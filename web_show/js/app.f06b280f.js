(function(){"use strict";var e={8096:function(e,a,t){var i=t(3396),r=t(9242),n=t(7139);const s={class:"main-background"};function o(e,a,t,o,c,l){const d=(0,i.up)("LoginWindow"),m=(0,i.up)("ConnectionBar"),u=(0,i.up)("WindowCreateConnection"),h=(0,i.up)("WindowAreas"),p=(0,i.up)("WindowAddVariable"),v=(0,i.up)("WindowVariable");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.LoginStatus?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(d,{key:0}))])),_:1}),(0,i.Wm)(r.uT,{name:"slide-fade"},{default:(0,i.w5)((()=>[e.LoginStatus?((0,i.wg)(),(0,i.j4)(m,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowCreateCon?((0,i.wg)(),(0,i.j4)(u,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowAreas&&l.showJustOneWindow()?((0,i.wg)(),(0,i.j4)(h,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowVareableAdd?((0,i.wg)(),(0,i.j4)(p,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowVareableStatus?((0,i.wg)(),(0,i.j4)(v,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i._)("div",s,[(0,i._)("div",{class:(0,n.C_)(["fig1",{strange:e.Myclass}])},null,2)])],64)}const c=e=>((0,i.dD)("data-v-6642b2aa"),e=e(),(0,i.Cn)(),e),l={class:"login-background"},d={class:"window-login"},m=c((()=>(0,i._)("div",{class:"name-window"},[(0,i._)("label",{class:"text"},"Sign in GetData")],-1))),u={class:"form-input"},h=c((()=>(0,i._)("div",null,"Username",-1))),p=["disabled"],v={class:"form-input"},w=c((()=>(0,i._)("div",null,"Password",-1))),b=["disabled"],g={class:"text"};function _(e,a,t,n,s,o){const c=(0,i.up)("LoaderIcon");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",d,[m,(0,i._)("div",u,[h,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.Username=e),disabled:e.procReques,onKeyup:a[1]||(a[1]=(0,r.D2)(((...e)=>o.clickSignIn&&o.clickSignIn(...e)),["enter"]))},null,40,p),[[r.nr,s.Username]])]),(0,i._)("div",v,[w,(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=e=>s.Password=e),disabled:e.procReques,onKeyup:a[3]||(a[3]=(0,r.D2)(((...e)=>o.clickSignIn&&o.clickSignIn(...e)),["enter"]))},null,40,b),[[r.nr,s.Password]])]),(0,i._)("div",{class:"button-login",onClick:a[4]||(a[4]=(...e)=>o.clickSignIn&&o.clickSignIn(...e))},[(0,i.wy)((0,i._)("label",g,"Sign in",512),[[r.F8,!e.procReques]]),(0,i.wy)((0,i.Wm)(c,null,null,512),[[r.F8,e.procReques]])])])])}var f=t(65);const k=e=>((0,i.dD)("data-v-43d16122"),e=e(),(0,i.Cn)(),e),S={class:"lds-ellipsis"},y=k((()=>(0,i._)("div",null,null,-1))),C=k((()=>(0,i._)("div",null,null,-1))),V=k((()=>(0,i._)("div",null,null,-1))),P=k((()=>(0,i._)("div",null,null,-1))),D=[y,C,V,P];function W(e,a){return(0,i.wg)(),(0,i.iD)("div",S,D)}var N=t(89);const A={},x=(0,N.Z)(A,[["render",W],["__scopeId","data-v-43d16122"]]);var T=x,F={name:"LoginWindow",components:{LoaderIcon:T},data(){return{Username:"",Password:""}},computed:{...(0,f.Se)({procReques:"getProcessRequest"})},methods:{...(0,f.nv)({logIn:"postLogin"}),async clickSignIn(){let e={username:this.Username,password:this.Password};this.logIn(e)}}};const O=(0,N.Z)(F,[["render",_],["__scopeId","data-v-6642b2aa"]]);var q=O,L=t.p+"img/Snap-logo.422d14a5.svg",M=t.p+"img/change-connect.b556a548.svg",B=t.p+"img/remove-connect.b74ed8e6.svg";const I=e=>((0,i.dD)("data-v-3ef8a41f"),e=e(),(0,i.Cn)(),e),R={class:"main-bar"},z=I((()=>(0,i._)("div",{class:"icon-plus"},"+",-1))),U=I((()=>(0,i._)("label",null,"New connection",-1))),j=[z,U],H=I((()=>(0,i._)("div",{class:"vl"},null,-1))),Z={class:"place-list-connection"},E=["onClick","onContextmenu"],Y={class:"header-el-connection"},K={class:"switcher-area"},$=["onClick","onUpdate:modelValue"],X={class:"body-el-connection"},G=I((()=>(0,i._)("img",{src:L,alt:"Alt"},null,-1))),J={class:"bottom-el-connection"},Q=["onClick"],ee=I((()=>(0,i._)("img",{src:M,alt:""},null,-1))),ae=[ee],te=["onClick"],ie=I((()=>(0,i._)("img",{src:B,alt:""},null,-1))),re=[ie];function ne(e,a,t,s,o,c){return(0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("div",{class:"button-add",onClick:a[0]||(a[0]=a=>e.OpenWindowCreateConnect(!0))},j),H,(0,i._)("div",Z,[(0,i.Wm)(r.W3,{name:"list"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.ConnectionList,((a,t)=>((0,i.wg)(),(0,i.iD)("div",{key:a,class:"one-line-connection",onClick:e=>c.pickConnection(t),onContextmenu:(0,r.iM)((e=>c.handler(e,t)),["right"])},[(0,i._)("div",{class:(0,n.C_)(["check-flag",{"on-flag":e.check==t,"off-flag":!(e.check==t)}])},null,2),(0,i._)("div",{class:(0,n.C_)(["el-connection",{"status-connect":a.switcher&&a.status_connection,"status-disconnect":a.switcher&&!a.status_connection,"on-el-connection":a.status_process,"off-el-connection":!a.status_process}])},[(0,i._)("div",Y,[(0,i._)("div",K,[(0,i.wy)((0,i._)("input",{class:"switcher",type:"checkbox",onClick:(0,r.iM)((e=>c.changeSwitcher(a.id)),["stop"]),"onUpdate:modelValue":e=>a.switcher=e},null,8,$),[[r.e8,a.switcher]])])]),(0,i._)("div",X,[G,(0,i._)("label",null,(0,n.zw)(a.driver),1)]),(0,i._)("div",J,(0,n.zw)(a.name),1),(0,i._)("div",{class:(0,n.C_)(["addition-button",{"up-position":o.chooseRightClick==t,"down-position":o.chooseRightClick!=t}])},[(0,i._)("button",{onClick:(0,r.iM)((e=>c.openChangeWindow(a)),["stop","prevent"])},ae,8,Q),(0,i._)("button",{onClick:(0,r.iM)((e=>c.deleteConnection(a.id)),["stop","prevent"])},re,8,te)],2)],2)],40,E)))),128))])),_:1})])])}var se=t(4161);se.Z.defaults.baseURL="http://shylin.ru:8000/",se.Z.defaults.headers.common={Authorization:`Token ${localStorage.getItem("token")}`};var oe=se.Z,ce={name:"ConnectionBar",data(){return{status:{},test:!1,chooseRightClick:null}},computed:{...(0,f.Se)({ConnectionList:"getConnectionList",check:"getCheckConnectionBar"})},methods:{deleteConnection(e){this.chooseRightClick=null,this.deleteConnection(e)},openChangeWindow(e){this.OpenWindowCreateConnect(!0),this.pushConParamToWindow(e)},handler:function(e,a){a==this.chooseRightClick?this.chooseRightClick=null:this.chooseRightClick=a,e.preventDefault()},...(0,f.OI)({OpenWindowCreateConnect:"setWindowCreateConnection",changeMainBackground:"setMainBackground",OpenWindowAreas:"setWindowAreas",pickConnectionClick:"setCheckConnectionBar",pushConParamToWindow:"setConParamToWindow"}),...(0,f.nv)({getAllConnections:"getAllConnections",getAreaFromConnection:"getAreaFromConnection",StatusConnections:"getStatusConnections",deleteConnection:"deleteConnection"}),pickConnection(e){this.check!=e&&this.getAreaFromConnection(this.ConnectionList[e].id),this.pickConnectionClick(e)},changeSwitcher(e){oe.post("connection/status/",{id:e})},startTimer(){this.StatusConnections(),setTimeout(this.startTimer,3e3)}},created(){this.getAllConnections()},mounted(){this.StatusConnections(),setTimeout(this.startTimer,100)}};const le=(0,N.Z)(ce,[["render",ne],["__scopeId","data-v-3ef8a41f"]]);var de=le,me=t.p+"img/formGood.2fdb2110.svg",ue=t.p+"img/formBad.79a8e01e.svg",he=t.p+"img/ptich.4887abe5.svg";const pe=e=>((0,i.dD)("data-v-b527f676"),e=e(),(0,i.Cn)(),e),ve={class:"header"},we=pe((()=>(0,i._)("h2",null,"Add new connection",-1))),be={class:"form-connecton"},ge={class:"line-form"},_e=pe((()=>(0,i._)("div",{class:"name-line"},"Name connection:",-1))),fe={class:"input-form"},ke={class:"form-line-with-mark"},Se={key:0,src:me,alt:""},ye={key:0,class:"description-about-bad-form"},Ce=pe((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name connection can be max 50 sign and min 5 sign #TODO")],-1))),Ve={class:"line-form"},Pe=pe((()=>(0,i._)("div",{class:"name-line"},"IP address:",-1))),De={class:"input-form"},We={class:"form-line-with-mark"},Ne={key:0,src:me,alt:""},Ae={key:0,class:"description-about-bad-form"},xe=pe((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"IP address of device which you want to connect")],-1))),Te={class:"line-form"},Fe=pe((()=>(0,i._)("div",{class:"name-line"},"Port:",-1))),Oe={class:"input-form"},qe={class:"form-line-with-mark"},Le={key:0,src:me,alt:""},Me={key:0,class:"description-about-bad-form"},Be=pe((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Device port in network")],-1))),Ie={class:"line-form"},Re=pe((()=>(0,i._)("div",{class:"name-line"},"Driver:",-1))),ze={class:"input-form"},Ue=pe((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("p",null,"Choose driver by device which you want to add:"),(0,i._)("li",null,"Snap7 - only controller by Siemens"),(0,i._)("li",null,"TCP-IP - all device which work with this protocol")],-1))),je={class:"line-form"},He=pe((()=>(0,i._)("div",{class:"name-line"},"Slot:",-1))),Ze={class:"input-form"},Ee={class:"form-line-with-mark"},Ye={key:0,src:me,alt:""},Ke={key:0,class:"description-about-bad-form"},$e=pe((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("p",null,"Param which set in controller program, usually:"),(0,i._)("li",null,"by s300 equals 2"),(0,i._)("li",null,"by s1200 equals 1")],-1))),Xe={class:"line-form"},Ge=pe((()=>(0,i._)("div",{class:"name-line"},"Rack:",-1))),Je={class:"input-form"},Qe={class:"form-line-with-mark"},ea={key:0,src:me,alt:""},aa={key:0,class:"description-about-bad-form"},ta=pe((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Param which set in controller program, usually equals 0")],-1))),ia={class:"icon-plus"},ra=pe((()=>(0,i._)("img",{src:he},null,-1))),na=[ra];function sa(e,a,t,s,o,c){const l=(0,i.up)("el-option"),d=(0,i.up)("el-select"),m=(0,i.up)("LoaderIcon");return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["window",{windowHeight:"Snap7"===o.connectionParam.driver,windowHeightMod:"ModbusTCP"===o.connectionParam.driver}])},[(0,i._)("div",ve,[we,(0,i._)("div",{class:"button-close",onClick:a[0]||(a[0]=a=>e.CloseWindow(!1))},"×")]),(0,i._)("div",be,[(0,i._)("div",ge,[_e,(0,i._)("div",fe,[(0,i._)("div",ke,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>o.connectionParam.name=e)},null,512),[[r.nr,o.connectionParam.name]]),o.correctName.status?((0,i.wg)(),(0,i.iD)("img",Se)):(0,i.kq)("",!0),o.correctName.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[2]||(a[2]=e=>o.correctName.hoverSign=!0),onMouseleave:a[3]||(a[3]=e=>o.correctName.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fadebuttom"},{default:(0,i.w5)((()=>[!o.correctName.status&&o.correctName.hoverSign?((0,i.wg)(),(0,i.iD)("p",ye,(0,n.zw)(o.correctName.text),1)):(0,i.kq)("",!0)])),_:1})]),Ce])]),(0,i._)("div",Ve,[Pe,(0,i._)("div",De,[(0,i._)("div",We,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=e=>o.connectionParam.ip_address=e)},null,512),[[r.nr,o.connectionParam.ip_address]]),o.correctIp.status?((0,i.wg)(),(0,i.iD)("img",Ne)):(0,i.kq)("",!0),o.correctIp.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[5]||(a[5]=e=>o.correctIp.hoverSign=!0),onMouseleave:a[6]||(a[6]=e=>o.correctIp.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fadebuttom"},{default:(0,i.w5)((()=>[!o.correctIp.status&&o.correctIp.hoverSign?((0,i.wg)(),(0,i.iD)("p",Ae,(0,n.zw)(o.correctIp.text),1)):(0,i.kq)("",!0)])),_:1})]),xe])]),(0,i._)("div",Te,[Fe,(0,i._)("div",Oe,[(0,i._)("div",qe,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>o.connectionParam.port=e)},null,512),[[r.nr,o.connectionParam.port]]),o.correctPort.status?((0,i.wg)(),(0,i.iD)("img",Le)):(0,i.kq)("",!0),o.correctPort.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[8]||(a[8]=e=>o.correctPort.hoverSign=!0),onMouseleave:a[9]||(a[9]=e=>o.correctPort.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fadebuttom"},{default:(0,i.w5)((()=>[!o.correctPort.status&&o.correctPort.hoverSign?((0,i.wg)(),(0,i.iD)("p",Me,(0,n.zw)(o.correctPort.text),1)):(0,i.kq)("",!0)])),_:1})]),Be])]),(0,i._)("div",Ie,[Re,(0,i._)("div",ze,[(0,i.Wm)(d,{modelValue:o.connectionParam.driver,"onUpdate:modelValue":a[10]||(a[10]=e=>o.connectionParam.driver=e),class:"m-2",placeholder:"Select",size:"small",namespace:"hrad-1","popper-class":"hrad-2"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.drivers,(e=>((0,i.wg)(),(0,i.j4)(l,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),Ue])]),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",je,[He,(0,i._)("div",Ze,[(0,i._)("div",Ee,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[11]||(a[11]=e=>o.connectionParam.slot=e)},null,512),[[r.nr,o.connectionParam.slot]]),o.correctSlot.status?((0,i.wg)(),(0,i.iD)("img",Ye)):(0,i.kq)("",!0),o.correctSlot.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[12]||(a[12]=e=>o.correctSlot.hoverSign=!0),onMouseleave:a[13]||(a[13]=e=>o.correctSlot.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fadebuttom"},{default:(0,i.w5)((()=>[!o.correctSlot.status&&o.correctSlot.hoverSign?((0,i.wg)(),(0,i.iD)("p",Ke,(0,n.zw)(o.correctSlot.text),1)):(0,i.kq)("",!0)])),_:1})]),$e])],512),[[r.F8,"Snap7"==o.connectionParam.driver]])])),_:1}),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Xe,[Ge,(0,i._)("div",Je,[(0,i._)("div",Qe,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[14]||(a[14]=e=>o.connectionParam.rack=e)},null,512),[[r.nr,o.connectionParam.rack]]),o.correctRack.status?((0,i.wg)(),(0,i.iD)("img",ea)):(0,i.kq)("",!0),o.correctRack.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[15]||(a[15]=e=>o.correctRack.hoverSign=!0),onMouseleave:a[16]||(a[16]=e=>o.correctRack.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fadebuttom"},{default:(0,i.w5)((()=>[!o.correctRack.status&&o.correctRack.hoverSign?((0,i.wg)(),(0,i.iD)("p",aa,(0,n.zw)(o.correctRack.text),1)):(0,i.kq)("",!0)])),_:1})]),ta])],512),[[r.F8,"Snap7"==o.connectionParam.driver]])])),_:1}),(0,i.Wm)(r.uT,{name:"fadebuttom"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",{class:(0,n.C_)(["button-add",{"button-add-coloured":o.allFormCorrect,"button-add-disabled":!o.allFormCorrect}]),onClick:a[17]||(a[17]=(...e)=>c.createConnection&&c.createConnection(...e))},[(0,i.wy)((0,i.Wm)(m,null,null,512),[[r.F8,e.procReques]]),(0,i.wy)((0,i._)("div",ia,na,512),[[r.F8,!e.procReques]]),(0,i.wy)((0,i._)("label",null,"Save",512),[[r.F8,!e.procReques]])],2),[[r.F8,o.connectionParam.driver]])])),_:1})])],2)}var oa=t(7178),ca={name:"WindowCreateConnection",components:{LoaderIcon:T},computed:{...(0,f.Se)({procReques:"getloadConnection",ParamConnectiob:"getParamWindowCreateConnectiob",checkName:"getConnectionStatusName"})},watch:{"connectionParam.name"(e){let a=!1,t="Строка пуста";const i=/[А-яЁё]/;e&&(-1==e.indexOf(" ")?-1==e.search(i)?-1==e[0].search(/[0-9]/)?a=!0:t="Название должно начинаться только с символа латинского алфавита":t="Название должно содержать только символы латинского алфавита":t="Название должно быть без пробелов"),a?(this.correctName.status=!0,this.correctName.text=""):(this.correctName.status=!1,this.correctName.text=t),this.checkStatusForm()},"connectionParam.ip_address"(e){let a=!1,t="Строка пуста";const i=/[^0-9.]/;if(e)if(-1==e.search(i)){let r=e.split("."),n=!0;if(r.forEach((e=>{-1!=e.search(i)&&(n=!1),""==e&&(n=!1)})),4==r.length&&n){let e=!0;r.forEach((a=>{(0>Number(a)||Number(a)>255)&&(e=!1)})),e?a=!0:t="В строке число не входит в диапозон 0-255"}else t="Строка дожна содержать 4 числа"}else t='Строка дожна быть следующего вида "X.X.X.X", где X - это число от 0 до 255';a?(this.correctIp.status=!0,this.correctIp.text=""):(this.correctIp.status=!1,this.correctIp.text=t),this.checkStatusForm()},"connectionParam.port"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>0?a=!0:t="Поле должно содержать число больше 0"),a?(this.correctPort.status=!0,this.correctPort.text=""):(this.correctPort.status=!1,this.correctPort.text=t),this.checkStatusForm()},"connectionParam.slot"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctSlot.status=!0,this.correctSlot.text=""):(this.correctSlot.status=!1,this.correctSlot.text=t),this.checkStatusForm()},"connectionParam.rack"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>0||0==e?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctRack.status=!0,this.correctRack.text=""):(this.correctRack.status=!1,this.correctRack.text=t),this.checkStatusForm()},"connectionParam.driver"(){this.checkStatusForm()}},data(){return{allFormCorrect:!1,correctName:{status:!1,text:"Строка пуста",hoverSign:!1},correctIp:{status:!1,text:"Строка пуста",hoverSign:!1},correctPort:{status:!1,text:"Строка пуста",hoverSign:!1},correctSlot:{status:!1,text:"Строка пуста",hoverSign:!1},correctRack:{status:!1,text:"Строка пуста",hoverSign:!1},connectionParam:{name:"",ip_address:"",port:null,driver:"",slot:null,rack:null},statusChange:!1,drivers:[{key:1,label:"Snap7",value:"Snap7"},{key:2,label:"ModbusTCP",value:"ModbusTCP"}]}},methods:{...(0,f.nv)({addConnection:"addConnection",changeConnection:"changeConnection",checkConnectionName:"checkConnectionName"}),...(0,f.OI)({CloseWindow:"setWindowCreateConnection",setStatusName:"setNameConnectionStaus"}),checkStatusForm(){"Snap7"==this.connectionParam.driver&&this.correctName.status&&this.correctIp.status&&this.correctPort.status&&this.correctSlot.status&&this.correctRack.status||"ModbusTCP"==this.connectionParam.driver&&this.correctName.status&&this.correctIp.status&&this.correctPort.status?this.allFormCorrect=!0:this.allFormCorrect=!1},async createConnection(){if(this.allFormCorrect)if(this.statusChange){let e={param:this.connectionParam,id:this.ParamConnectiob.id};await this.checkConnectionName(e),this.checkName?this.changeConnection(e):(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"This name already exists"})}else{let e={param:this.connectionParam,id:null};await this.checkConnectionName(e),this.checkName?this.addConnection(this.connectionParam):(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"This name already exists"})}}},mounted(){this.statusChange=!1,this.setStatusName(!1),this.ParamConnectiob&&(this.connectionParam.name=this.ParamConnectiob.name,this.connectionParam.ip_address=this.ParamConnectiob.ip_address,this.connectionParam.port=this.ParamConnectiob.port,this.connectionParam.driver=this.ParamConnectiob.driver,this.connectionParam.slot=this.ParamConnectiob.slot,this.connectionParam.rack=this.ParamConnectiob.rack,this.statusChange=!0)}};const la=(0,N.Z)(ca,[["render",sa],["__scopeId","data-v-b527f676"]]);var da=la;const ma=e=>((0,i.dD)("data-v-55f6f5d2"),e=e(),(0,i.Cn)(),e),ua={class:"window"},ha={class:"header"},pa={key:0,class:"header-form-plase"},va=ma((()=>(0,i._)("div",null,[(0,i._)("div",{class:"vl"})],-1))),wa={key:1,class:"load-plase"};function ba(e,a,t,s,o,c){const l=(0,i.up)("ButtonNewArea"),d=(0,i.up)("AreaLine"),m=(0,i.up)("LoaderIcon");return(0,i.wg)(),(0,i.iD)("div",ua,[(0,i._)("div",ha,[(0,i._)("h2",null,"Areas of "+(0,n.zw)(e.ConnectionList[e.check].name),1),(0,i._)("div",{class:"button-close",onClick:a[0]||(a[0]=(...e)=>c.closeWindow&&c.closeWindow(...e))},"×")]),(0,i.Wm)(r.uT,{name:"fade",mode:"out-in"},{default:(0,i.w5)((()=>[e.loaderAreaList?((0,i.wg)(),(0,i.iD)("div",wa,[(0,i.Wm)(m)])):((0,i.wg)(),(0,i.iD)("div",pa,[(0,i.Wm)(l,{connection_id:e.ConnectionList[e.check].id,indexConnection:e.check,driver:e.ConnectionList[e.check].driver},null,8,["connection_id","indexConnection","driver"]),va,(0,i.Wm)(r.W3,{name:"list"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.areaList,((a,t)=>((0,i.wg)(),(0,i.iD)("div",{key:a},[(0,i.Wm)(d,{area_param:a,area_index:t,indexConnection:e.check},null,8,["area_param","area_index","indexConnection"])])))),128))])),_:1})]))])),_:1})])}const ga=e=>((0,i.dD)("data-v-71899687"),e=e(),(0,i.Cn)(),e),_a=ga((()=>(0,i._)("p",{class:"icon-button"},"+",-1))),fa=ga((()=>(0,i._)("p",{class:"name-button"},"Add new area",-1))),ka=[_a,fa],Sa=ga((()=>(0,i._)("p",{class:"icon-button"},"×",-1))),ya=ga((()=>(0,i._)("p",{class:"name-button-close"},"Close",-1))),Ca=[Sa,ya];function Va(e,a,t,s,o,c){const l=(0,i.up)("FormArea");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",null,[o.showForm?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"add-area-button",onClick:a[0]||(a[0]=e=>o.showForm=!o.showForm)},ka)),o.showForm?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"add-area-button close",onClick:a[1]||(a[1]=e=>o.showForm=!o.showForm)},Ca)):(0,i.kq)("",!0)]),(0,i._)("div",{class:(0,n.C_)(["form-block",{"form-hide":!o.showForm,"form-open":o.showForm&&!o.bigForm,"form-open-big":o.showForm&&o.bigForm}])},[(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[o.showForm?((0,i.wg)(),(0,i.j4)(l,{key:0,mode_change:!1,connection_id:t.connection_id,onCloseEnd:a[2]||(a[2]=e=>o.showForm=!1),style:{height:"10px"},driver:t.driver,onOnBigType:a[3]||(a[3]=e=>o.bigForm=e)},null,8,["connection_id","driver"])):(0,i.kq)("",!0)])),_:1})],2)],64)}const Pa=e=>((0,i.dD)("data-v-7dae6f2a"),e=e(),(0,i.Cn)(),e),Da={class:"form-connecton"},Wa={class:"line-form"},Na=Pa((()=>(0,i._)("div",{class:"name-line"},"Name area:",-1))),Aa={class:"input-form"},xa={class:"form-line-with-mark"},Ta={key:0,src:me,alt:""},Fa={key:0,class:"description-about-bad-form"},Oa=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name area can be max 100 signs and min 5 signs #TODO")],-1))),qa={key:0,class:"line-form"},La=Pa((()=>(0,i._)("div",{class:"name-line"},"Type of area:",-1))),Ma={class:"input-form"},Ba=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("p",null,"Choose type memory where is Verbals:"),(0,i._)("li",null,"DB - memory which belong DB (need number DB)"),(0,i._)("li",null,"PA - memory which belong Output (Q) Verbals")],-1))),Ia={key:0,class:"line-form"},Ra=Pa((()=>(0,i._)("div",{class:"name-line"},"Number DB:",-1))),za={class:"input-form"},Ua={class:"form-line-with-mark"},ja={key:0,src:me,alt:""},Ha={key:0,class:"description-about-bad-form"},Za=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name area can be max 100 signs and min 5 signs #TODO")],-1))),Ea={key:2,class:"line-form"},Ya=Pa((()=>(0,i._)("div",{class:"name-line"},"Start byte:",-1))),Ka={class:"input-form"},$a={class:"form-line-with-mark"},Xa={key:0,src:me,alt:""},Ga={key:0,class:"description-about-bad-form"},Ja=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Count start from 0")],-1))),Qa={key:3,class:"line-form"},et=Pa((()=>(0,i._)("div",{class:"name-line"},"Offset:",-1))),at={class:"input-form"},tt={class:"form-line-with-mark"},it={key:0,src:me,alt:""},rt={key:0,class:"description-about-bad-form"},nt=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Min number 1")],-1))),st={key:4,class:"line-form"},ot=Pa((()=>(0,i._)("div",{class:"name-line"},"Slave id:",-1))),ct={class:"input-form"},lt={class:"form-line-with-mark"},dt={key:0,src:me,alt:""},mt={key:0,class:"description-about-bad-form"},ut=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Min number 1")],-1))),ht={key:5,class:"line-form"},pt=Pa((()=>(0,i._)("div",{class:"name-line"},"Function:",-1))),vt={class:"input-form"},wt=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO ...")],-1))),bt={key:6,class:"line-form"},gt=Pa((()=>(0,i._)("div",{class:"name-line"},"Start register:",-1))),_t={class:"input-form"},ft={class:"form-line-with-mark"},kt={key:0,src:me,alt:""},St={key:0,class:"description-about-bad-form"},yt=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO ...")],-1))),Ct={key:7,class:"line-form"},Vt=Pa((()=>(0,i._)("div",{class:"name-line"},"Size:",-1))),Pt={class:"input-form"},Dt={class:"form-line-with-mark"},Wt={key:0,src:me,alt:""},Nt={key:0,class:"description-about-bad-form"},At=Pa((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO ...")],-1))),xt={key:0,class:"line-form try"},Tt=Pa((()=>(0,i._)("div",{class:"icon-button"},[(0,i._)("img",{src:he})],-1))),Ft={key:0,class:"name-button"},Ot={key:1,class:"name-button"};function qt(e,a,t,s,o,c){const l=(0,i.up)("el-option"),d=(0,i.up)("el-select");return(0,i.wg)(),(0,i.iD)("div",Da,[(0,i._)("div",Wa,[Na,(0,i._)("div",Aa,[(0,i._)("div",xa,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.areaParam.name=e)},null,512),[[r.nr,o.areaParam.name]]),o.correctName.status?((0,i.wg)(),(0,i.iD)("img",Ta)):(0,i.kq)("",!0),o.correctName.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[1]||(a[1]=e=>o.correctName.hoverSign=!0),onMouseleave:a[2]||(a[2]=e=>o.correctName.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctName.status&&o.correctName.hoverSign?((0,i.wg)(),(0,i.iD)("p",Fa,(0,n.zw)(o.correctName.text),1)):(0,i.kq)("",!0)])),_:1})]),Oa])]),"Snap7"==t.driver?((0,i.wg)(),(0,i.iD)("div",qa,[La,(0,i._)("div",Ma,[(0,i.Wm)(d,{modelValue:o.areaParam.type_area,"onUpdate:modelValue":a[3]||(a[3]=e=>o.areaParam.type_area=e),class:"m-2",placeholder:"Select type",size:"small",namespace:"hrad-1","popper-class":"hrad-2",change:e.$emit("onBigType","DB"==o.areaParam.type_area)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.drivers,(e=>((0,i.wg)(),(0,i.j4)(l,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","change"]),Ba])])):(0,i.kq)("",!0),"Snap7"==t.driver?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,n.C_)(["block-hided",{"block-hide":!("DB"==o.areaParam.type_area),"block-open":"DB"==o.areaParam.type_area}])},["DB"==o.areaParam.type_area?((0,i.wg)(),(0,i.iD)("div",Ia,[Ra,(0,i._)("div",za,[(0,i._)("div",Ua,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>o.areaParam.number_db=e)},null,512),[[r.nr,o.areaParam.number_db]]),o.correctNumberDB.status?((0,i.wg)(),(0,i.iD)("img",ja)):(0,i.kq)("",!0),o.correctNumberDB.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[5]||(a[5]=e=>o.correctNumberDB.hoverSign=!0),onMouseleave:a[6]||(a[6]=e=>o.correctNumberDB.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctNumberDB.status&&o.correctNumberDB.hoverSign?((0,i.wg)(),(0,i.iD)("p",Ha,(0,n.zw)(o.correctNumberDB.text),1)):(0,i.kq)("",!0)])),_:1})]),Za])])):(0,i.kq)("",!0)],2)):(0,i.kq)("",!0),"Snap7"==t.driver?((0,i.wg)(),(0,i.iD)("div",Ea,[Ya,(0,i._)("div",Ka,[(0,i._)("div",$a,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>o.areaParam.start_byte=e)},null,512),[[r.nr,o.areaParam.start_byte]]),o.correctStartByte.status?((0,i.wg)(),(0,i.iD)("img",Xa)):(0,i.kq)("",!0),o.correctStartByte.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[8]||(a[8]=e=>o.correctStartByte.hoverSign=!0),onMouseleave:a[9]||(a[9]=e=>o.correctStartByte.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctStartByte.status&&o.correctStartByte.hoverSign?((0,i.wg)(),(0,i.iD)("p",Ga,(0,n.zw)(o.correctStartByte.text),1)):(0,i.kq)("",!0)])),_:1})]),Ja])])):(0,i.kq)("",!0),"Snap7"==t.driver?((0,i.wg)(),(0,i.iD)("div",Qa,[et,(0,i._)("div",at,[(0,i._)("div",tt,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[10]||(a[10]=e=>o.areaParam.offset=e)},null,512),[[r.nr,o.areaParam.offset]]),o.correctOffset.status?((0,i.wg)(),(0,i.iD)("img",it)):(0,i.kq)("",!0),o.correctOffset.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[11]||(a[11]=e=>o.correctOffset.hoverSign=!0),onMouseleave:a[12]||(a[12]=e=>o.correctOffset.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctOffset.status&&o.correctOffset.hoverSign?((0,i.wg)(),(0,i.iD)("p",rt,(0,n.zw)(o.correctOffset.text),1)):(0,i.kq)("",!0)])),_:1})]),nt])])):(0,i.kq)("",!0),"ModbusTCP"==t.driver?((0,i.wg)(),(0,i.iD)("div",st,[ot,(0,i._)("div",ct,[(0,i._)("div",lt,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[13]||(a[13]=e=>o.areaParam.slave_id=e)},null,512),[[r.nr,o.areaParam.slave_id]]),o.correctSlaveId.status?((0,i.wg)(),(0,i.iD)("img",dt)):(0,i.kq)("",!0),o.correctSlaveId.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[14]||(a[14]=e=>o.correctSlaveId.hoverSign=!0),onMouseleave:a[15]||(a[15]=e=>o.correctSlaveId.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctSlaveId.status&&o.correctSlaveId.hoverSign?((0,i.wg)(),(0,i.iD)("p",mt,(0,n.zw)(o.correctSlaveId.text),1)):(0,i.kq)("",!0)])),_:1})]),ut])])):(0,i.kq)("",!0),"ModbusTCP"==t.driver?((0,i.wg)(),(0,i.iD)("div",ht,[pt,(0,i._)("div",vt,[(0,i.Wm)(d,{modelValue:o.areaParam.function,"onUpdate:modelValue":a[16]||(a[16]=e=>o.areaParam.function=e),class:"m-2",placeholder:"Select function",size:"small",namespace:"hrad-1","popper-class":"hrad-2"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.function_kind,(e=>((0,i.wg)(),(0,i.j4)(l,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),wt])])):(0,i.kq)("",!0),"ModbusTCP"==t.driver?((0,i.wg)(),(0,i.iD)("div",bt,[gt,(0,i._)("div",_t,[(0,i._)("div",ft,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[17]||(a[17]=e=>o.areaParam.start_register=e)},null,512),[[r.nr,o.areaParam.start_register]]),o.correctStartRegister.status?((0,i.wg)(),(0,i.iD)("img",kt)):(0,i.kq)("",!0),o.correctStartRegister.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[18]||(a[18]=e=>o.correctStartRegister.hoverSign=!0),onMouseleave:a[19]||(a[19]=e=>o.correctStartRegister.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctStartRegister.status&&o.correctStartRegister.hoverSign?((0,i.wg)(),(0,i.iD)("p",St,(0,n.zw)(o.correctStartRegister.text),1)):(0,i.kq)("",!0)])),_:1})]),yt])])):(0,i.kq)("",!0),"ModbusTCP"==t.driver?((0,i.wg)(),(0,i.iD)("div",Ct,[Vt,(0,i._)("div",Pt,[(0,i._)("div",Dt,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[20]||(a[20]=e=>o.areaParam.size=e)},null,512),[[r.nr,o.areaParam.size]]),o.correctSize.status?((0,i.wg)(),(0,i.iD)("img",Wt)):(0,i.kq)("",!0),o.correctSize.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:ue,onMouseover:a[21]||(a[21]=e=>o.correctSize.hoverSign=!0),onMouseleave:a[22]||(a[22]=e=>o.correctSize.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctSize.status&&o.correctSize.hoverSign?((0,i.wg)(),(0,i.iD)("p",Nt,(0,n.zw)(o.correctSize.text),1)):(0,i.kq)("",!0)])),_:1})]),At])])):(0,i.kq)("",!0),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[o.areaParam.type_area||o.areaParam.function?((0,i.wg)(),(0,i.iD)("div",xt,[(0,i._)("div",{class:(0,n.C_)(["add-area-button",{"button-add-coloured":o.allFormCorrect,"button-add-disabled":!o.allFormCorrect}]),onClick:a[23]||(a[23]=(...e)=>c.saveMethod&&c.saveMethod(...e))},[Tt,t.mode_change?((0,i.wg)(),(0,i.iD)("p",Ft,"Change")):(0,i.kq)("",!0),t.mode_change?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",Ot,"Save"))],2)])):(0,i.kq)("",!0)])),_:1})])}var Lt={props:["mode_change","index_area","connection_id","driver"],components:{},emits:["closeEnd","onBigType"],watch:{"areaParam.name"(e){let a=!1,t="Строка пуста";const i=/[А-яЁё]/;e&&(-1==e.indexOf(" ")?-1==e.search(i)?-1==e[0].search(/[0-9]/)?a=!0:t="Название должно начинаться только с символа латинского алфавита":t="Название должно содержать только символы латинского алфавита":t="Название должно быть без пробелов"),a?(this.correctName.status=!0,this.correctName.text=""):(this.correctName.status=!1,this.correctName.text=t),this.checkStatusForm()},"areaParam.number_db"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctNumberDB.status=!0,this.correctNumberDB.text=""):(this.correctNumberDB.status=!1,this.correctNumberDB.text=t),this.checkStatusForm()},"areaParam.start_byte"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctStartByte.status=!0,this.correctStartByte.text=""):(this.correctStartByte.status=!1,this.correctStartByte.text=t),this.checkStatusForm()},"areaParam.offset"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>0?a=!0:t="Поле должно содержать число больше 0"),a?(this.correctOffset.status=!0,this.correctOffset.text=""):(this.correctOffset.status=!1,this.correctOffset.text=t),this.checkStatusForm()},"areaParam.slave_id"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>0?a=!0:t="Поле должно содержать число больше 0"),a?(this.correctSlaveId.status=!0,this.correctSlaveId.text=""):(this.correctSlaveId.status=!1,this.correctSlaveId.text=t),this.checkStatusForm()},"areaParam.start_register"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctStartRegister.status=!0,this.correctStartRegister.text=""):(this.correctStartRegister.status=!1,this.correctStartRegister.text=t),this.checkStatusForm()},"areaParam.size"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctSize.status=!0,this.correctSize.text=""):(this.correctSize.status=!1,this.correctSize.text=t),this.checkStatusForm()},"areaParam.type_area"(){this.checkStatusForm()},"areaParam.function"(){this.checkStatusForm()}},data(){return{allFormCorrect:!1,correctName:{status:!1,text:"Строка пуста",hoverSign:!1},correctNumberDB:{status:!1,text:"Строка пуста",hoverSign:!1},correctStartByte:{status:!1,text:"Строка пуста",hoverSign:!1},correctOffset:{status:!1,text:"Строка пуста",hoverSign:!1},correctSlaveId:{status:!1,text:"Строка пуста",hoverSign:!1},correctSize:{status:!1,text:"Строка пуста",hoverSign:!1},correctStartRegister:{status:!1,text:"Строка пуста",hoverSign:!1},areaParam:{name:"",number_db:null,start_byte:null,offset:null,connection:""},drivers:[{key:1,label:"DB",value:"DB"},{key:2,label:"PA",value:"PA"}],function_kind:[{key:1,label:"3",value:3},{key:2,label:"4",value:4}]}},methods:{checkStatusForm(){"ModbusTCP"==this.driver&&this.correctName.status&&this.correctSlaveId.status&&this.correctSize.status&&this.correctStartRegister.status||"Snap7"==this.driver&&this.correctName.status&&(this.correctNumberDB.status||"PA"==this.areaParam.type_area)&&this.correctStartByte.status&&this.correctOffset.status?this.allFormCorrect=!0:this.allFormCorrect=!1},async saveMethod(){if(this.allFormCorrect)if(this.mode_change){let e={param:this.areaParam,id:this.areaList[this.index_area].id,connection_id:this.connection_id};await this.checkAreaName(e),this.checkName?(this.areaParam.connection="http://127.0.0.1:8000/connection/"+this.connection_id+"/",this.changeArea({id_area:this.areaList[this.index_area].id,data:this.areaParam}),this.areaParam.connection="",this.$emit("closeEnd")):(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"This name already exists"})}else{let e={param:this.areaParam,id:null,connection_id:this.connection_id};await this.checkAreaName(e),this.checkName?(this.areaParam.connection="http://127.0.0.1:8000/connection/"+this.connection_id+"/",await this.addNewArea(this.areaParam),this.areaParam.connection="",this.$emit("closeEnd")):(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"This name already exists"})}},...(0,f.nv)({deleteArea:"deleteArea",addNewArea:"addNewArea",changeArea:"changeArea",checkAreaName:"checkAreaName"}),...(0,f.OI)({setStatusName:"setNameAreaStaus"}),checkParam(){let e=!1;return"string"==typeof this.areaParam.name&&1==this.areaParam.name.split(" ").length&&("DB"==this.areaParam.type_area&&this.areaParam.number_db?this.areaParam.start_byte&&this.areaParam.offset&&(e=!0):"PA"==this.areaParam.type_area&&this.areaParam.start_byte&&this.areaParam.offset&&(e=!0)),e}},computed:{...(0,f.Se)({areaList:"getAreaList",checkName:"getAreaStatusName"})},mounted(){this.setStatusName(!1),this.mode_change&&(this.areaParam.name=this.areaList[this.index_area].name,this.areaParam.type_area=this.areaList[this.index_area].type_area,this.areaParam.number_db=this.areaList[this.index_area].number_db,this.areaParam.start_byte=this.areaList[this.index_area].start_byte,this.areaParam.offset=this.areaList[this.index_area].offset,this.areaParam.slave_id=this.areaList[this.index_area].slave_id,this.areaParam.function=this.areaList[this.index_area].function,this.areaParam.size=this.areaList[this.index_area].size,this.areaParam.start_register=this.areaList[this.index_area].start_register)}};const Mt=(0,N.Z)(Lt,[["render",qt],["__scopeId","data-v-7dae6f2a"]]);var Bt=Mt,It={props:["indexConnection","connection_id","driver"],components:{FormArea:Bt},data(){return{showForm:!1,bigForm:!1}},computed:{...(0,f.Se)({})}};const Rt=(0,N.Z)(It,[["render",Va],["__scopeId","data-v-71899687"]]);var zt=Rt,Ut=t.p+"img/dustbin.b74ed8e6.svg",jt=t.p+"img/pencil.58562d72.svg";const Ht=e=>((0,i.dD)("data-v-5c57b152"),e=e(),(0,i.Cn)(),e),Zt={class:"area-line"},Et={class:"header-area"},Yt={class:"button-place"},Kt=Ht((()=>(0,i._)("img",{class:"dustbin",src:Ut,alt:"Alt"},null,-1))),$t=[Kt],Xt=Ht((()=>(0,i._)("img",{class:"pencil",src:jt,alt:"Alt"},null,-1))),Gt=[Xt],Jt=Ht((()=>(0,i._)("p",{class:"icon-button"},"+",-1))),Qt=Ht((()=>(0,i._)("p",{class:"name-button"},"Add new variable",-1))),ei=[Jt,Qt],ai=Ht((()=>(0,i._)("div",{class:"vl-area"},null,-1)));function ti(e,a,t,s,o,c){const l=(0,i.up)("FormArea"),d=(0,i.up)("VariableList");return(0,i.wg)(),(0,i.iD)("div",Zt,[(0,i._)("div",Et,[(0,i._)("p",null,(0,n.zw)(t.area_param.name),1),(0,i._)("div",Yt,[(0,i._)("div",{class:"icon",onClick:a[0]||(a[0]=(...e)=>c.deleteAndReloadArea&&c.deleteAndReloadArea(...e))},$t),(0,i._)("div",{class:"icon",onClick:a[1]||(a[1]=e=>o.showForm=!o.showForm)},Gt),(0,i._)("div",{class:"add-veriable-button",onClick:a[2]||(a[2]=(...e)=>c.openWindowCreateVariable&&c.openWindowCreateVariable(...e))},ei)])]),(0,i._)("div",{class:(0,n.C_)(["form-block",{"form-hide":!o.showForm,"form-open":o.showForm&&!o.bigForm,"form-open-big":o.showForm&&o.bigForm}])},[(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[o.showForm?((0,i.wg)(),(0,i.j4)(l,{key:0,mode_change:!0,index_area:t.area_index,connection_id:e.ConnectionList[t.indexConnection].id,driver:e.ConnectionList[t.indexConnection].driver,onCloseEnd:a[3]||(a[3]=e=>o.showForm=!o.showForm),onOnBigType:a[4]||(a[4]=e=>o.bigForm=e)},null,8,["index_area","connection_id","driver"])):(0,i.kq)("",!0)])),_:1})],2),ai,(0,i.Wm)(d,{variableList:t.area_param.value,area_id:t.area_param.id,driver:this.ConnectionList[this.indexConnection].driver},null,8,["variableList","area_id","driver"])])}const ii={class:"variable-list-place"},ri=["onClick"];function ni(e,a,t,s,o,c){return(0,i.wg)(),(0,i.iD)("div",ii,[(0,i.Wm)(r.W3,{name:"list"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.variableList,(a=>((0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["variable-element",{active:a.id==e.Variable.vareable.id,diactive:a.id!=e.Variable.vareable.id}]),onClick:e=>c.pickVariable(a),key:a.id},[(0,i._)("p",null,(0,n.zw)(a.name),1)],10,ri)))),128))])),_:1})])}var si={data(){return{}},props:["variableList","area_id","driver"],computed:{...(0,f.Se)({Variable:"getWindowVariableParam"})},methods:{...(0,f.OI)({setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus",setStatusWindowVariableParam:"setStatusWindowVariableParam"}),pickVariable(e){this.Variable.vareable.id==e.id?(this.setStatusWindowVariableParamStatus(!1),this.setStatusWindowVariableParam({var:{},area_id:null,driver:null})):(this.setStatusWindowVariableParamStatus(!0),this.setStatusWindowVariableParam({var:e,area_id:this.area_id,driver:this.driver}))}}};const oi=(0,N.Z)(si,[["render",ni],["__scopeId","data-v-027eef8b"]]);var ci=oi,li={data(){return{showForm:!1,bigForm:!1}},components:{FormArea:Bt,VariableList:ci},props:["area_param","area_index","indexConnection"],computed:{...(0,f.Se)({ConnectionList:"getConnectionList"})},methods:{...(0,f.nv)({deleteArea:"deleteArea"}),...(0,f.OI)({setWindowVariable:"setWindowVariableAdd",setWindowVariableName:"setWindowVariableAddName",setWindowVariableArea:"setWindowVariableAddArea",setDriverForWindowVariableAdd:"setDriverForWindowVariableAdd"}),openWindowCreateVariable(){this.setWindowVariable(!0),this.setWindowVariableName("Add new variable for "+this.area_param.name+" of areas"),this.setWindowVariableArea(this.area_param),this.setDriverForWindowVariableAdd(this.ConnectionList[this.indexConnection].driver)},async deleteAndReloadArea(){await this.deleteArea(this.area_param.id)}}};const di=(0,N.Z)(li,[["render",ti],["__scopeId","data-v-5c57b152"]]);var mi=di,ui={data(){return{showForm:!1}},components:{LoaderIcon:T,ButtonNewArea:zt,AreaLine:mi},computed:{...(0,f.Se)({ConnectionList:"getConnectionList",check:"getCheckConnectionBar",areaList:"getAreaList",loaderAreaList:"getLoadAreaWindow"})},methods:{...(0,f.OI)({setWindowAreas:"setWindowAreas",setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus",setStatusWindowVariableParam:"setStatusWindowVariableParam"}),...(0,f.nv)({deleteArea:"deleteArea"}),closeWindow(){this.setStatusWindowVariableParamStatus(!1),this.setStatusWindowVariableParam({var:{},area_id:null,driver:null}),this.setWindowAreas(!1)}}};const hi=(0,N.Z)(ui,[["render",ba],["__scopeId","data-v-55f6f5d2"]]);var pi=hi;const vi={class:"windowVariable"},wi={class:"header-form"};function bi(e,a,t,r,s,o){const c=(0,i.up)("FormVariable");return(0,i.wg)(),(0,i.iD)("div",vi,[(0,i._)("div",wi,[(0,i._)("h2",null,(0,n.zw)(e.WindowVariable.headName),1),(0,i._)("div",{class:"button-close",onClick:a[0]||(a[0]=a=>e.setWindowVariable(!1))},"×")]),(0,i.Wm)(c,{area_id:e.WindowVariable.area.id,driver:e.WindowVariable.driver},null,8,["area_id","driver"])])}var gi=t.p+"img/formGoodWhite.80c7cc08.svg",_i=t.p+"img/formBadWhite.0099b5f5.svg";const fi=e=>((0,i.dD)("data-v-425a47d8"),e=e(),(0,i.Cn)(),e),ki={class:"line-form"},Si=fi((()=>(0,i._)("div",{class:"name-line"},"Name variable:",-1))),yi={class:"input-form"},Ci={class:"form-line-with-mark"},Vi={key:0,src:gi,alt:""},Pi={key:0,class:"description-about-bad-form"},Di=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name variable can be max 50 sign and min 5 sign #TODO")],-1))),Wi={class:"line-form"},Ni=fi((()=>(0,i._)("div",{class:"name-line"},"Start byte of area:",-1))),Ai={class:"input-form"},xi={class:"form-line-with-mark"},Ti={key:0,src:gi,alt:""},Fi={key:0,class:"description-about-bad-form"},Oi=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Number 0 - ... , which connect with variable of area #TODO")],-1))),qi={class:"line-form"},Li=fi((()=>(0,i._)("div",{class:"name-line"},"Minimal time:",-1))),Mi={class:"input-form"},Bi={class:"form-line-with-mark"},Ii={key:0,src:gi,alt:""},Ri={key:0,class:"description-about-bad-form"},zi=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Minimal time between write data, ms")],-1))),Ui={class:"line-form"},ji=fi((()=>(0,i._)("div",{class:"name-line"},"Type taken data:",-1))),Hi={class:"input-form"},Zi=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Type data which takes from equipment")],-1))),Ei={key:0,class:"line-form"},Yi=fi((()=>(0,i._)("div",{class:"name-line"},"Bit number:",-1))),Ki={class:"input-form"},$i={class:"form-line-with-mark"},Xi={key:0,src:gi,alt:""},Gi={key:0,class:"description-about-bad-form"},Ji=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Number bit of byte")],-1))),Qi={class:"line-form"},er=fi((()=>(0,i._)("div",{class:"name-line"},"Type data for write:",-1))),ar={class:"input-form"},tr=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Type data which write to DB")],-1))),ir={key:1,class:"line-form"},rr={class:"name-line-with-form"},nr={class:"left-part-line"},sr=fi((()=>(0,i._)("div",{class:"name bigname"},"Signed:",-1))),or=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO")],-1))),cr={key:2,class:"line-form"},lr={class:"name-line-with-form"},dr={class:"left-part-line"},mr=fi((()=>(0,i._)("div",{class:"name bigname"},"Big endian:",-1))),ur=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO")],-1))),hr={key:3,class:"line-form"},pr={class:"name-line-with-form"},vr={class:"left-part-line"},wr=fi((()=>(0,i._)("div",{class:"name bigname"},"Byte swap:",-1))),br=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO")],-1))),gr={class:"line-form"},_r={class:"name-line-with-form"},fr={class:"left-part-line"},kr=fi((()=>(0,i._)("div",{class:"name"},"Divide:",-1))),Sr={class:"form-line-with-mark"},yr=["disabled"],Cr={key:0,src:gi,alt:""},Vr={key:0,class:"description-about-bad-form"},Pr=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Data from equipment divide and write to DB")],-1))),Dr={class:"line-form"},Wr={class:"name-line-with-form"},Nr={class:"left-part-line"},Ar=fi((()=>(0,i._)("div",{class:"name bigname"},"If change:",-1))),xr=fi((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Write data if data change")],-1))),Tr={class:"last-line"},Fr=fi((()=>(0,i._)("div",{class:"icon-button"},[(0,i._)("img",{src:he})],-1))),Or={key:0,class:"name-button"},qr={key:1,class:"name-button"};function Lr(e,a,t,s,o,c){const l=(0,i.up)("SelectElement");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ki,[Si,(0,i._)("div",yi,[(0,i._)("div",Ci,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.paramVariable.name=e)},null,512),[[r.nr,o.paramVariable.name]]),o.correctName.status?((0,i.wg)(),(0,i.iD)("img",Vi)):(0,i.kq)("",!0),o.correctName.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:_i,onMouseover:a[1]||(a[1]=e=>o.correctName.hoverSign=!0),onMouseleave:a[2]||(a[2]=e=>o.correctName.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctName.status&&o.correctName.hoverSign?((0,i.wg)(),(0,i.iD)("p",Pi,(0,n.zw)(o.correctName.text),1)):(0,i.kq)("",!0)])),_:1})]),Di])]),(0,i._)("div",Wi,[Ni,(0,i._)("div",Ai,[(0,i._)("div",xi,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>o.paramVariable.start=e)},null,512),[[r.nr,o.paramVariable.start]]),o.correctStart.status?((0,i.wg)(),(0,i.iD)("img",Ti)):(0,i.kq)("",!0),o.correctStart.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:_i,onMouseover:a[4]||(a[4]=e=>o.correctStart.hoverSign=!0),onMouseleave:a[5]||(a[5]=e=>o.correctStart.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctStart.status&&o.correctStart.hoverSign?((0,i.wg)(),(0,i.iD)("p",Fi,(0,n.zw)(o.correctStart.text),1)):(0,i.kq)("",!0)])),_:1})]),Oi])]),(0,i._)("div",qi,[Li,(0,i._)("div",Mi,[(0,i._)("div",Bi,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=e=>o.paramVariable.time_min=e)},null,512),[[r.nr,o.paramVariable.time_min]]),o.correctTimeMin.status?((0,i.wg)(),(0,i.iD)("img",Ii)):(0,i.kq)("",!0),o.correctTimeMin.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:_i,onMouseover:a[7]||(a[7]=e=>o.correctTimeMin.hoverSign=!0),onMouseleave:a[8]||(a[8]=e=>o.correctTimeMin.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctTimeMin.status&&o.correctTimeMin.hoverSign?((0,i.wg)(),(0,i.iD)("p",Ri,(0,n.zw)(o.correctTimeMin.text),1)):(0,i.kq)("",!0)])),_:1})]),zi])]),(0,i._)("div",Ui,[ji,(0,i._)("div",Hi,[(0,i.Wm)(l,{modelValue:o.paramVariable.type_value,"onUpdate:modelValue":a[9]||(a[9]=e=>o.paramVariable.type_value=e),listOption:o.kindOfType,colorbac:"rgba(241, 243, 255, 0.4)"},null,8,["modelValue","listOption"]),Zi])]),o.paramVariable.type_value==o.kindOfType[3]?((0,i.wg)(),(0,i.iD)("div",Ei,[Yi,(0,i._)("div",Ki,[(0,i._)("div",$i,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[10]||(a[10]=e=>o.paramVariable.bit=e)},null,512),[[r.nr,o.paramVariable.bit]]),o.correctBit.status?((0,i.wg)(),(0,i.iD)("img",Xi)):(0,i.kq)("",!0),o.correctBit.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:_i,onMouseover:a[11]||(a[11]=e=>o.correctBit.hoverSign=!0),onMouseleave:a[12]||(a[12]=e=>o.correctBit.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctBit.status&&o.correctBit.hoverSign?((0,i.wg)(),(0,i.iD)("p",Gi,(0,n.zw)(o.correctBit.text),1)):(0,i.kq)("",!0)])),_:1})]),Ji])])):(0,i.kq)("",!0),(0,i._)("div",Qi,[er,(0,i._)("div",ar,[(0,i.Wm)(l,{modelValue:o.paramVariable.type_value_for_write,"onUpdate:modelValue":a[13]||(a[13]=e=>o.paramVariable.type_value_for_write=e),listOption:o.kindOfType,colorbac:"rgba(241, 243, 255, 0.4)"},null,8,["modelValue","listOption"]),tr])]),"ModbusTCP"==t.driver?((0,i.wg)(),(0,i.iD)("div",ir,[(0,i._)("div",rr,[(0,i._)("div",nr,[sr,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[14]||(a[14]=e=>o.paramVariable.signed=e)},null,512),[[r.e8,o.paramVariable.signed]])]),or])])):(0,i.kq)("",!0),"ModbusTCP"==t.driver?((0,i.wg)(),(0,i.iD)("div",cr,[(0,i._)("div",lr,[(0,i._)("div",dr,[mr,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[15]||(a[15]=e=>o.paramVariable.big_endian=e)},null,512),[[r.e8,o.paramVariable.big_endian]])]),ur])])):(0,i.kq)("",!0),"ModbusTCP"==t.driver?((0,i.wg)(),(0,i.iD)("div",hr,[(0,i._)("div",pr,[(0,i._)("div",vr,[wr,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[16]||(a[16]=e=>o.paramVariable.byte_swap=e)},null,512),[[r.e8,o.paramVariable.byte_swap]])]),br])])):(0,i.kq)("",!0),(0,i._)("div",gr,[(0,i._)("div",_r,[(0,i._)("div",fr,[kr,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[17]||(a[17]=e=>o.paramVariable.divide=e)},null,512),[[r.e8,o.paramVariable.divide]]),(0,i._)("div",Sr,[(0,i.wy)((0,i._)("input",{type:"number",disabled:!o.paramVariable.divide,"onUpdate:modelValue":a[18]||(a[18]=e=>o.paramVariable.divide_namber=e)},null,8,yr),[[r.nr,o.paramVariable.divide_namber]]),o.correctDivideNamber.status?((0,i.wg)(),(0,i.iD)("img",Cr)):(0,i.kq)("",!0),o.correctDivideNamber.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:_i,onMouseover:a[19]||(a[19]=e=>o.correctDivideNamber.hoverSign=!0),onMouseleave:a[20]||(a[20]=e=>o.correctDivideNamber.hoverSign=!1)},null,32)),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[!o.correctDivideNamber.status&&o.correctDivideNamber.hoverSign?((0,i.wg)(),(0,i.iD)("p",Vr,(0,n.zw)(o.correctDivideNamber.text),1)):(0,i.kq)("",!0)])),_:1})])]),Pr])]),(0,i._)("div",Dr,[(0,i._)("div",Wr,[(0,i._)("div",Nr,[Ar,(0,i.wy)((0,i._)("input",{type:"checkbox",class:"big-checkbox","onUpdate:modelValue":a[21]||(a[21]=e=>o.paramVariable.if_change=e)},null,512),[[r.e8,o.paramVariable.if_change]])]),xr])]),(0,i._)("div",Tr,[(0,i._)("button",{class:(0,n.C_)(["button-submit",{"button-add-coloured":o.allFormCorrect,"button-add-disabled":!o.allFormCorrect}]),onClick:a[22]||(a[22]=(...e)=>c.saveVariable&&c.saveVariable(...e))},[Fr,t.changeMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",Or,"Save")),t.changeMode?((0,i.wg)(),(0,i.iD)("p",qr,"Change")):(0,i.kq)("",!0)],2)])],64)}var Mr=t.p+"img/strelka-down.2e91a1ae.svg";const Br={key:0,class:"choosing-show-place"},Ir={key:1,class:"choosing-show-place"},Rr={class:"icon-diraction"},zr={key:0,class:"options-place",style:{transition:"opacity .4s"}},Ur=["onClick"];function jr(e,a,t,s,o,c){return(0,i.wg)(),(0,i.iD)("div",{class:"select-place",style:(0,n.j5)({background:t.colorbac}),onClick:a[0]||(a[0]=e=>o.showOption=!o.showOption)},[t.modelValue?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Br,"Select type")),t.modelValue?((0,i.wg)(),(0,i.iD)("div",Ir,(0,n.zw)(t.modelValue.label),1)):(0,i.kq)("",!0),(0,i._)("div",Rr,[(0,i._)("img",{src:Mr,class:(0,n.C_)({up:o.showOption}),draggable:"false",alt:""},null,2)]),(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[o.showOption?((0,i.wg)(),(0,i.iD)("div",zr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.listOption,(e=>((0,i.wg)(),(0,i.iD)("li",{onClick:a=>c.getOption(e),key:e.key},(0,n.zw)(e.label),9,Ur)))),128))])):(0,i.kq)("",!0)])),_:1})],4)}var Hr={props:["listOption","modelValue","colorbac"],emits:["update:modelValue"],data(){return{showOption:!1}},methods:{getOption(e){this.$emit("update:modelValue",e)}}};const Zr=(0,N.Z)(Hr,[["render",jr],["__scopeId","data-v-8a7a61a0"]]);var Er=Zr,Yr={components:{SelectElement:Er},props:["area_id","changeMode","variableParam","driver"],emits:["closeForm"],watch:{"paramVariable.name"(e){let a=!1,t="Строка пуста";const i=/[А-яЁё]/;e&&(-1==e.indexOf(" ")?-1==e.search(i)?-1==e[0].search(/[0-9]/)?a=!0:t="Название должно начинаться только с символа латинского алфавита":t="Название должно содержать только символы латинского алфавита":t="Название должно быть без пробелов"),a?(this.correctName.status=!0,this.correctName.text=""):(this.correctName.status=!1,this.correctName.text=t),this.checkStatusForm()},"paramVariable.start"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctStart.status=!0,this.correctStart.text=""):(this.correctStart.status=!1,this.correctStart.text=t),this.checkStatusForm()},"paramVariable.time_min"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctTimeMin.status=!0,this.correctTimeMin.text=""):(this.correctTimeMin.status=!1,this.correctTimeMin.text=t),this.checkStatusForm()},"paramVariable.bit"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>=0?a=!0:t="Поле должно содержать число большее либо равное 0"),a?(this.correctBit.status=!0,this.correctBit.text=""):(this.correctBit.status=!1,this.correctBit.text=t),this.checkStatusForm()},"paramVariable.divide_namber"(e){let a=!1,t="Строка пуста";(e||0==e)&&(e>0?a=!0:t="Поле должно содержать число больше 0"),a?(this.correctDivideNamber.status=!0,this.correctDivideNamber.text=""):(this.correctDivideNamber.status=!1,this.correctDivideNamber.text=t),this.checkStatusForm()},"paramVariable.type_value_for_write"(){this.checkStatusForm()},"paramVariable.type_value"(){this.checkStatusForm()},"paramVariable.divide"(){this.checkStatusForm()}},data(){return{allFormCorrect:!1,correctName:{status:!1,text:"Строка пуста",hoverSign:!1},correctStart:{status:!1,text:"Строка пуста",hoverSign:!1},correctTimeMin:{status:!1,text:"Строка пуста",hoverSign:!1},correctBit:{status:!1,text:"Строка пуста",hoverSign:!1},correctDivideNamber:{status:!1,text:"Строка пуста",hoverSign:!1},paramVariable:{},kindOfType:[{key:1,label:"int",value:"int"},{key:2,label:"float",value:"float"},{key:3,label:"double",value:"double"},{key:4,label:"bool",value:"bool"}]}},computed:{...(0,f.Se)({checkName:"getVariableStatusName"})},methods:{...(0,f.nv)({addNewVareable:"addNewVareable",changeVareable:"changeVareable",checkVariableName:"checkVariableName"}),...(0,f.OI)({setNameVariableStaus:"setNameVariableStaus"}),checkStatusForm(){(this.correctName.status&&this.correctStart.status&&this.correctTimeMin.status&&this.paramVariable.type_value!=this.kindOfType[3]&&!this.paramVariable.divide||this.correctName.status&&this.correctStart.status&&this.correctTimeMin.status&&this.correctBit.status&&!this.paramVariable.divide&&this.paramVariable.type_value==this.kindOfType[3]||this.correctName.status&&this.correctStart.status&&this.correctTimeMin.status&&this.paramVariable.type_value!=this.kindOfType[3]&&this.paramVariable.divide&&this.correctDivideNamber.status||this.correctName.status&&this.correctStart.status&&this.correctTimeMin.status&&this.paramVariable.divide&&this.correctDivideNamber.status&&this.paramVariable.type_value==this.kindOfType[3]&&this.correctBit.status)&&null!=this.paramVariable.type_value_for_write&&null!=this.paramVariable.type_value?this.allFormCorrect=!0:this.allFormCorrect=!1},async saveVariable(){if(this.allFormCorrect){let e={name:this.paramVariable.name,start:this.paramVariable.start,type_value_get_data:this.paramVariable.type_value.value,type_value_write_data:this.paramVariable.type_value_for_write.value,if_change:this.paramVariable.if_change,divide:this.paramVariable.divide,divide_number:this.paramVariable.divide_namber,time_write_if_change:this.paramVariable.time_min,bit:this.paramVariable.bit,byte_swap:this.paramVariable.byte_swap,big_endian:this.paramVariable.big_endian,signed:this.paramVariable.signed,area:"http://127.0.0.1:8000/area/"+this.area_id+"/"};if(this.changeMode){let a={param:this.paramVariable,id:this.variableParam.id,area_id:this.area_id};await this.checkVariableName(a),this.checkName?(this.changeVareable({id:this.variableParam.id,data:e}),this.$emit("closeForm")):(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"This name already exists"})}else{let a={param:this.paramVariable,id:null,area_id:this.area_id};await this.checkVariableName(a),this.checkName?this.addNewVareable(e):(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"This name already exists"})}}}},mounted(){this.setNameVariableStaus(!1),this.changeMode&&(this.paramVariable.name=this.variableParam.name,this.paramVariable.start=this.variableParam.start,this.kindOfType.find((e=>{e.value==this.variableParam.type_value_get_data&&(this.paramVariable.type_value=e)})),this.kindOfType.find((e=>{e.value==this.variableParam.type_value_write_data&&(this.paramVariable.type_value_for_write=e)})),this.paramVariable.if_change=this.variableParam.if_change,this.paramVariable.divide=this.variableParam.divide,this.paramVariable.divide_namber=this.variableParam.divide_number,this.paramVariable.time_min=this.variableParam.time_write_if_change,this.paramVariable.bit=this.variableParam.bit,this.paramVariable.byte_swap=this.variableParam.byte_swap,this.paramVariable.big_endian=this.variableParam.big_endian,this.paramVariable.signed=this.variableParam.signed)}};const Kr=(0,N.Z)(Yr,[["render",Lr],["__scopeId","data-v-425a47d8"]]);var $r=Kr,Xr={components:{FormVariable:$r},computed:{...(0,f.Se)({WindowVariable:"getParamWindowVariableAdd"})},methods:{...(0,f.OI)({setWindowVariable:"setWindowVariableAdd"})}};const Gr=(0,N.Z)(Xr,[["render",bi],["__scopeId","data-v-35700561"]]);var Jr=Gr;const Qr=e=>((0,i.dD)("data-v-026af37f"),e=e(),(0,i.Cn)(),e),en={class:"windowVariable"},an={class:"header-form"},tn={class:"button-place"},rn=Qr((()=>(0,i._)("img",{src:Ut,alt:""},null,-1))),nn=[rn],sn=Qr((()=>(0,i._)("img",{src:jt,alt:""},null,-1))),on=[sn],cn=Qr((()=>(0,i._)("div",{class:"vl-variable"},null,-1)));function ln(e,a,t,r,s,o){const c=(0,i.up)("FormVariable"),l=(0,i.up)("highcharts");return(0,i.wg)(),(0,i.iD)("div",en,[(0,i._)("div",an,[(0,i._)("div",tn,[(0,i._)("button",{onClick:a[0]||(a[0]=a=>e.deleteVareable({id:e.Variable.vareable.id,area_id:e.Variable.area_id}))},nn),(0,i._)("button",{onClick:a[1]||(a[1]=e=>s.formShow=!s.formShow)},on)]),(0,i._)("h2",null,(0,n.zw)(e.Variable.vareable.name),1),(0,i._)("div",{class:"button-close",onClick:a[2]||(a[2]=a=>e.setStatusWindowVariableParamStatus(!1))},"×")]),s.formShow?((0,i.wg)(),(0,i.j4)(c,{key:0,area_id:e.Variable.area_id,variableParam:e.Variable.vareable,changeMode:!0,driver:e.Variable.driver,onCloseForm:a[3]||(a[3]=e=>s.formShow=!1)},null,8,["area_id","variableParam","driver"])):(0,i.kq)("",!0),cn,(0,i._)("button",{class:(0,n.C_)(["update-button",{"off-status-button":!s.autoAbdateButton,"on-status-button":s.autoAbdateButton}]),onClick:a[4]||(a[4]=e=>o.clickButton())},"Auto Update",2),(0,i.Wm)(l,{options:s.chartOptions},null,8,["options"])])}t(7658);var dn=t(880),mn=t.n(dn),un={data(){return{autoAbdateButton:!1,formShow:!1,lastPointTime:null,flagStopTimeOut:!0,chartOptions:{credits:{enabled:!1},chart:{backgroundColor:null},title:{text:"asdasdas",style:{display:"none",color:"#F1F3FF",fontSize:"1.125em"}},yAxis:{name:"",lineColor:"#F1F3FF",lineWidth:1,tickColor:"#F1F3FF",tickLength:5,tickWidth:1,labels:{style:{color:"#F1F3FF"}},gridLineWidth:0,title:{text:""}},xAxis:{name:"time",type:"datetime",lineColor:"#F1F3FF",lineWidth:1,tickColor:"#F1F3FF",tickLength:5,tickWidth:1,labels:{style:{color:"#F1F3FF"}},gridLineWidth:0,title:{text:"time",style:{color:"#F1F3FF",fontSize:"0.8em"}}},time:{timezone:"Europe/Minsk",timezoneOffset:-180},legend:{enabled:!1},series:[{data:[]}]}}},watch:{test_but(e){e?(this.flagStopTimeOut=!1,setTimeout(this.startTimerPoint,1e3)):this.flagStopTimeOut=!0},"Variable.vareable.id"(){this.lastPointTime=null,this.chartOptions.series[0].data=[],this.getData()}},components:{FormVariable:$r,highcharts:dn.Chart},computed:{...(0,f.Se)({Variable:"getWindowVariableParam"})},methods:{...(0,f.OI)({setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus"}),...(0,f.nv)({deleteVareable:"deleteVareable"}),getData(){oe.post("connection/get_point/",{id_variable:this.Variable.vareable.id}).then((e=>{e.data.forEach((e=>{this.chartOptions.series[0].data.push(e),this.lastPointTime=e[0]}))}))},clickButton(){this.autoAbdateButton?(this.autoAbdateButton=!1,this.flagStopTimeOut=!0):(this.autoAbdateButton=!0,this.flagStopTimeOut=!1,this.startTimerPoint())},startTimerPoint(){null!=this.lastPointTime&&oe.post("connection/get_point/",{id_variable:this.Variable.vareable.id,last_time:this.lastPointTime/1e3}).then((e=>{e.data.forEach((e=>{this.chartOptions.series[0].data.length>=100&&this.chartOptions.series[0].data.splice(0,1),this.chartOptions.series[0].data.push(e)})),0!=e.data.length&&(this.lastPointTime=e.data[e.data.length-1][0])})),this.flagStopTimeOut||setTimeout(this.startTimerPoint,4e3)}},mounted(){this.getData()},unmounted(){this.flagStopTimeOut=!0}};const hn=(0,N.Z)(un,[["render",ln],["__scopeId","data-v-026af37f"]]);var pn=hn,vn={name:"App",components:{LoginWindow:q,ConnectionBar:de,WindowCreateConnection:da,WindowAreas:pi,WindowAddVariable:Jr,WindowVariable:pn},data(){return{}},computed:{...(0,f.Se)({LoginStatus:"getLoginStatus",Myclass:"getBackgroundMainWindow",windowCreateCon:"getStatusWindowCreateConnectiob",windowAreas:"getStatusWindowAreas",windowVareableAdd:"getStatusWindowVariableAdd",windowVareableStatus:"getStatusWindowVariableParam"})},methods:{...(0,f.nv)({getUserInfo:"checkUserInfo"}),test(){console.log(1),this.Myclass=!this.Myclass,console.log(this.Myclass)},showJustOneWindow(){return!(window.innerWidth<900)||!this.windowVareableAdd&&!this.windowVareableStatus&&this.windowAreas}},created(){this.getUserInfo();let e=localStorage.getItem("token");console.log(e)}};const wn=(0,N.Z)(vn,[["render",o]]);var bn=wn,gn=t(6423),_n=(0,f.MT)({state:{loginStatus:!0,processRequest:!1,backgroundStraight:!1,connectionBar:{ConnectionList:[],check:null},areaList:[],windows:{CreateConnection:{status:!1,loadRequest:!1,param:null,nameStatus:!1},Areas:{status:!1,loadRequest:!1,nameStatus:!1},VareableAdd:{status:!1,headName:"",area:null,nameStatus:!1},VareableParam:{status:!1,vareable:{},area_id:null}}},getters:{getLoginStatus(e){return e.loginStatus},getProcessRequest(e){return e.processRequest},getloadConnection(e){return e.windows.CreateConnection.loadRequest},getLoadAreaWindow(e){return e.windows.Areas.loadRequest},getBackgroundMainWindow(e){return e.backgroundStraight},getStatusWindowCreateConnectiob(e){return e.windows.CreateConnection.status},getParamWindowCreateConnectiob(e){return e.windows.CreateConnection.param},getStatusWindowAreas(e){return e.windows.Areas.status},getStatusWindowVariableAdd(e){return e.windows.VareableAdd.status},getStatusWindowVariableParam(e){return e.windows.VareableParam.status},getWindowVariableParam(e){return e.windows.VareableParam},getParamWindowVariableAdd(e){return e.windows.VareableAdd},getConnectionList(e){return e.connectionBar.ConnectionList},getCheckConnectionBar(e){return e.connectionBar.check},getAreaList(e){return e.areaList},getConnectionStatusName(e){return e.windows.CreateConnection.nameStatus},getAreaStatusName(e){return e.windows.Areas.nameStatus},getVariableStatusName(e){return e.windows.VareableAdd.nameStatus}},mutations:{setLoginStatus(e,a){e.loginStatus=a},setStatusProcessRequest(e,a){e.processRequest=a},setWindowVariableAdd(e,a){1==a&&(e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={}),e.windows.VareableAdd.status=a},setDriverForWindowVariableAdd(e,a){e.windows.VareableAdd.driver=a},setStatusWindowVariableParamStatus(e,a){1==a&&(e.windows.VareableAdd.status=!1),e.windows.VareableParam.status=a,e.windows.VareableParam.vareable={}},setStatusWindowVariableParam(e,a){e.windows.VareableParam.vareable=a.var,e.windows.VareableParam.area_id=a.area_id,e.windows.VareableParam.driver=a.driver},setWindowVariableAddName(e,a){e.windows.VareableAdd.headName=a},setWindowVariableAddArea(e,a){e.windows.VareableAdd.area=a},setWindowCreateConnection(e,a){e.windows.CreateConnection.status=a,e.windows.CreateConnection.param=null,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={},e.connectionBar.check=null,e.backgroundStraight=!1},setConParamToWindow(e,a){e.windows.CreateConnection.param=a},setCheckConnectionBar(e,a){e.connectionBar.check==a?(e.connectionBar.check=null,e.backgroundStraight=!1,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={}):(e.connectionBar.check=a,e.backgroundStraight=!0,e.windows.Areas.status=!0,e.windows.CreateConnection.status=!1)},setConnectionList(e,a){e.connectionBar.ConnectionList=a},addNewConnection(e,a){e.connectionBar.ConnectionList.push(a)},changeConnection(e,a){let t=null;e.connectionBar.ConnectionList.find(((e,i)=>{a.id==e.id&&(t=i)})),null!=t&&(e.connectionBar.ConnectionList[t]=a)},deleteConnection(e,a){let t=null;e.connectionBar.ConnectionList.find(((e,i)=>{a==e.id&&(t=i)})),null!=t&&e.connectionBar.ConnectionList.splice(t,1)},setMainBackground(e,a){e.backgroundStraight=a},setloadConnection(e,a){e.windows.CreateConnection.loadRequest=a},setLoaderAreaWindow(e,a){e.windows.Areas.loadRequest=a},setWindowAreas(e,a){0==a?(e.connectionBar.check=null,e.backgroundStraight=!1,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1):(e.windows.Areas.status=a,e.windows.CreateConnection.status=!1)},setNewAreaList(e,a){e.areaList=a},setNewArea(e,a){e.areaList.push(a)},setRemoveArea(e,a){e.areaList.find(((t,i)=>{t.id==a&&e.areaList.splice(i,1)}))},changeAreaInConnection(e,a){let t=null;e.areaList.find(((e,i)=>{e.id==a.id&&(t=i)})),null!=t&&(e.areaList[t]=a)},setNewVariable(e,a){e.areaList.find((e=>{e.id==a.area_id&&e.value.push(a)}))},setChangedVariable(e,a){let t=null,i=null;e.areaList.find(((e,r)=>{e.id==a.area_id&&(t=r,e.value.find(((e,t)=>{e.id==a.id&&(i=t)})))})),null!=t&&null!=i&&(e.areaList[t].value[i]=a,e.windows.VareableParam.vareable=a)},setRemoveVariable(e,a){let t=null,i=null;e.areaList.find(((e,r)=>{e.id==a.area_id&&(t=r,e.value.find(((e,t)=>{e.id==a.id&&(i=t)})))})),null!=t&&null!=i&&e.areaList[t].value.splice(i,1)},setStatusConnections(e,a){let t=Object.keys(a);t.forEach((t=>{e.connectionBar.ConnectionList.find((e=>{e.id==Number(t)&&(e.status_connection=a[t].status_connection,e.switcher=a[t].switcher,e.status_process=a[t].status_process)}))}))},setNameConnectionStaus(e,a){e.windows.CreateConnection.nameStatus=a},setNameAreaStaus(e,a){e.windows.Areas.nameStatus=a},setNameVariableStaus(e,a){e.windows.VareableAdd.nameStatus=a}},actions:{async postLogin(e,a){e.commit("setStatusProcessRequest",!0),oe.defaults.headers.common={},await oe.post("user/login/",a).then((a=>{e.commit("setLoginStatus",!0),localStorage.setItem("token",a.data.token),oe.defaults.headers.common={Authorization:`Token ${a.data.token}`}})).catch((a=>{console.log(a),(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"Неверный логин или пароль"}),e.commit("setLoginStatus",!1)})),e.commit("setStatusProcessRequest",!1)},async checkUserInfo(e){await oe.get("user/info/").then((()=>{e.commit("setLoginStatus",!0)})).catch((a=>{console.log(a),e.commit("setLoginStatus",!1)}))},async addConnection(e,a){e.commit("setloadConnection",!0),await oe.post("connection/",a).then((a=>{e.commit("addNewConnection",a.data),e.commit("setWindowCreateConnection",!1)})).catch((e=>{console.log(e)})),e.commit("setloadConnection",!1)},async changeConnection(e,a){e.commit("setloadConnection",!0),await oe.put("connection/"+a.id+"/",a.param).then((a=>{e.commit("changeConnection",a.data),e.commit("setWindowCreateConnection",!1)})).catch((e=>{console.log(e)})),e.commit("setloadConnection",!1)},async deleteConnection(e,a){await oe.delete("connection/"+a+"/").then((()=>{e.commit("deleteConnection",a)}))},async getAllConnections(e){await oe.get("connection/").then((a=>{e.commit("setConnectionList",a.data)}))},async getAreaFromConnection(e,a){e.commit("setLoaderAreaWindow",!0),await oe.get("connection/"+a+"/area").then((a=>{e.commit("setNewAreaList",a.data)})).catch((e=>{(0,oa.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"Ошибка с запросом Area"}),console.log(e)})),e.commit("setLoaderAreaWindow",!1)},async addNewArea(e,a){await oe.post("area/",a).then((a=>{e.commit("setNewArea",a.data)})).catch((e=>{console.log(e)}))},async changeArea(e,a){await oe.put("area/"+a.id_area+"/",a.data).then((a=>{e.commit("changeAreaInConnection",a.data)}))},async deleteArea(e,a){await oe.delete("area/"+a).then((()=>{e.commit("setRemoveArea",a)})).catch((e=>{console.log(e)}))},async addNewVareable(e,a){await oe.post("value/",a).then((a=>{e.commit("setNewVariable",a.data),e.commit("setWindowVariableAdd",!1)}))},async changeVareable(e,a){await oe.put("value/"+a.id+"/",a.data).then((a=>{e.commit("setChangedVariable",a.data)}))},async deleteVareable(e,a){await oe.delete("value/"+a.id).then((()=>{e.commit("setStatusWindowVariableParamStatus",!1),e.commit("setRemoveVariable",a)}))},async getStatusConnections(e){await oe.get("connection/status/").then((a=>{e.commit("setStatusConnections",a.data)}))},async checkConnectionName(e,a){let t={name:a.param.name,id:a.id,field:"connection"};await oe.post("connection/check_name/",t).then((a=>{e.commit("setNameConnectionStaus",a.data)}))},async checkAreaName(e,a){let t={name:a.param.name,id:a.id,connection_id:a.connection_id,field:"area"};await oe.post("connection/check_name/",t).then((a=>{e.commit("setNameAreaStaus",a.data)}))},async checkVariableName(e,a){let t={name:a.param.name,id:a.id,area_id:a.area_id,field:"variable"};await oe.post("connection/check_name/",t).then((a=>{e.commit("setNameVariableStaus",a.data)}))}}}),fn=t(1419);t(4415);const kn=r.ri(bn);kn.use(fn.Z),kn.use(gn.Z,oe),kn.use(_n),kn.use(mn()),kn.mount("#app")}},a={};function t(i){var r=a[i];if(void 0!==r)return r.exports;var n=a[i]={id:i,loaded:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){t.amdO={}}(),function(){var e=[];t.O=function(a,i,r,n){if(!i){var s=1/0;for(d=0;d<e.length;d++){i=e[d][0],r=e[d][1],n=e[d][2];for(var o=!0,c=0;c<i.length;c++)(!1&n||s>=n)&&Object.keys(t.O).every((function(e){return t.O[e](i[c])}))?i.splice(c--,1):(o=!1,n<s&&(s=n));if(o){e.splice(d--,1);var l=r();void 0!==l&&(a=l)}}return a}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,r,n]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,i){var r,n,s=i[0],o=i[1],c=i[2],l=0;if(s.some((function(a){return 0!==e[a]}))){for(r in o)t.o(o,r)&&(t.m[r]=o[r]);if(c)var d=c(t)}for(a&&a(i);l<s.length;l++)n=s[l],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},i=self["webpackChunkSH"]=self["webpackChunkSH"]||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(8096)}));i=t.O(i)})();
//# sourceMappingURL=app.f06b280f.js.map