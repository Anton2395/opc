(function(){"use strict";var e={7887:function(e,a,n){var i=n(3396),t=n(9242),o=n(7139);const r={class:"main-background"};function s(e,a,n,s,l,d){const c=(0,i.up)("LoginWindow"),m=(0,i.up)("ConnectionBar"),u=(0,i.up)("WindowCreateConnection"),p=(0,i.up)("WindowAreas"),h=(0,i.up)("WindowAddVariable"),w=(0,i.up)("WindowVariable");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.LoginStatus?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0}))])),_:1}),(0,i.Wm)(t.uT,{name:"slide-fade"},{default:(0,i.w5)((()=>[e.LoginStatus?((0,i.wg)(),(0,i.j4)(m,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowCreateCon?((0,i.wg)(),(0,i.j4)(u,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowAreas&&d.showJustOneWindow()?((0,i.wg)(),(0,i.j4)(p,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowVareableAdd?((0,i.wg)(),(0,i.j4)(h,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[e.windowVareableStatus?((0,i.wg)(),(0,i.j4)(w,{key:0})):(0,i.kq)("",!0)])),_:1}),(0,i._)("div",r,[(0,i._)("div",{class:(0,o.C_)(["fig1",{strange:e.Myclass}])},null,2)])],64)}const l=e=>((0,i.dD)("data-v-6642b2aa"),e=e(),(0,i.Cn)(),e),d={class:"login-background"},c={class:"window-login"},m=l((()=>(0,i._)("div",{class:"name-window"},[(0,i._)("label",{class:"text"},"Sign in GetData")],-1))),u={class:"form-input"},p=l((()=>(0,i._)("div",null,"Username",-1))),h=["disabled"],w={class:"form-input"},b=l((()=>(0,i._)("div",null,"Password",-1))),_=["disabled"],v={class:"text"};function g(e,a,n,o,r,s){const l=(0,i.up)("LoaderIcon");return(0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",c,[m,(0,i._)("div",u,[p,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>r.Username=e),disabled:e.procReques,onKeyup:a[1]||(a[1]=(0,t.D2)(((...e)=>s.clickSignIn&&s.clickSignIn(...e)),["enter"]))},null,40,h),[[t.nr,r.Username]])]),(0,i._)("div",w,[b,(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=e=>r.Password=e),disabled:e.procReques,onKeyup:a[3]||(a[3]=(0,t.D2)(((...e)=>s.clickSignIn&&s.clickSignIn(...e)),["enter"]))},null,40,_),[[t.nr,r.Password]])]),(0,i._)("div",{class:"button-login",onClick:a[4]||(a[4]=(...e)=>s.clickSignIn&&s.clickSignIn(...e))},[(0,i.wy)((0,i._)("label",v,"Sign in",512),[[t.F8,!e.procReques]]),(0,i.wy)((0,i.Wm)(l,null,null,512),[[t.F8,e.procReques]])])])])}var f=n(65);const C=e=>((0,i.dD)("data-v-43d16122"),e=e(),(0,i.Cn)(),e),y={class:"lds-ellipsis"},V=C((()=>(0,i._)("div",null,null,-1))),k=C((()=>(0,i._)("div",null,null,-1))),P=C((()=>(0,i._)("div",null,null,-1))),W=C((()=>(0,i._)("div",null,null,-1))),S=[V,k,P,W];function A(e,a){return(0,i.wg)(),(0,i.iD)("div",y,S)}var L=n(89);const D={},F=(0,L.Z)(D,[["render",A],["__scopeId","data-v-43d16122"]]);var O=F,T={name:"LoginWindow",components:{LoaderIcon:O},data(){return{Username:"",Password:""}},computed:{...(0,f.Se)({procReques:"getProcessRequest"})},methods:{...(0,f.nv)({logIn:"postLogin"}),async clickSignIn(){let e={username:this.Username,password:this.Password};this.logIn(e)}}};const x=(0,L.Z)(T,[["render",g],["__scopeId","data-v-6642b2aa"]]);var q=x,B=n.p+"img/Snap-logo.422d14a5.svg",I=n.p+"img/change-connect.b556a548.svg",M=n.p+"img/remove-connect.b74ed8e6.svg";const U=e=>((0,i.dD)("data-v-3ef8a41f"),e=e(),(0,i.Cn)(),e),R={class:"main-bar"},N=U((()=>(0,i._)("div",{class:"icon-plus"},"+",-1))),z=U((()=>(0,i._)("label",null,"New connection",-1))),j=[N,z],Z=U((()=>(0,i._)("div",{class:"vl"},null,-1))),H={class:"place-list-connection"},E=["onClick","onContextmenu"],Y={class:"header-el-connection"},K={class:"switcher-area"},$=["onClick","onUpdate:modelValue"],J={class:"body-el-connection"},G=U((()=>(0,i._)("img",{src:B,alt:"Alt"},null,-1))),Q={class:"bottom-el-connection"},X=["onClick"],ee=U((()=>(0,i._)("img",{src:I,alt:""},null,-1))),ae=[ee],ne=["onClick"],ie=U((()=>(0,i._)("img",{src:M,alt:""},null,-1))),te=[ie];function oe(e,a,n,r,s,l){return(0,i.wg)(),(0,i.iD)("div",R,[(0,i._)("div",{class:"button-add",onClick:a[0]||(a[0]=a=>e.OpenWindowCreateConnect(!0))},j),Z,(0,i._)("div",H,[(0,i.Wm)(t.W3,{name:"list"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.ConnectionList,((a,n)=>((0,i.wg)(),(0,i.iD)("div",{key:a,class:"one-line-connection",onClick:e=>l.pickConnection(n),onContextmenu:(0,t.iM)((e=>l.handler(e,n)),["right"])},[(0,i._)("div",{class:(0,o.C_)(["check-flag",{"on-flag":e.check==n,"off-flag":!(e.check==n)}])},null,2),(0,i._)("div",{class:(0,o.C_)(["el-connection",{"status-connect":a.switcher&&a.status_connection,"status-disconnect":a.switcher&&!a.status_connection,"on-el-connection":a.status_process,"off-el-connection":!a.status_process}])},[(0,i._)("div",Y,[(0,i._)("div",K,[(0,i.wy)((0,i._)("input",{class:"switcher",type:"checkbox",onClick:(0,t.iM)((e=>l.changeSwitcher(a.id)),["stop"]),"onUpdate:modelValue":e=>a.switcher=e},null,8,$),[[t.e8,a.switcher]])])]),(0,i._)("div",J,[G,(0,i._)("label",null,(0,o.zw)(a.driver),1)]),(0,i._)("div",Q,(0,o.zw)(a.name),1),(0,i._)("div",{class:(0,o.C_)(["addition-button",{"up-position":s.chooseRightClick==n,"down-position":s.chooseRightClick!=n}])},[(0,i._)("button",{onClick:(0,t.iM)((e=>l.openChangeWindow(a)),["stop","prevent"])},ae,8,X),(0,i._)("button",{onClick:(0,t.iM)((e=>l.deleteConnection(a.id)),["stop","prevent"])},te,8,ne)],2)],2)],40,E)))),128))])),_:1})])])}var re=n(6943);re.Z.defaults.baseURL="http://shylin.ru:8000/",re.Z.defaults.headers.common={Authorization:`Token ${localStorage.getItem("token")}`};var se=re.Z,le={name:"ConnectionBar",data(){return{status:{},test:!1,chooseRightClick:null}},computed:{...(0,f.Se)({ConnectionList:"getConnectionList",check:"getCheckConnectionBar"})},methods:{deleteConnection(e){this.chooseRightClick=null,this.deleteConnection(e)},openChangeWindow(e){this.OpenWindowCreateConnect(!0),this.pushConParamToWindow(e)},handler:function(e,a){a==this.chooseRightClick?this.chooseRightClick=null:this.chooseRightClick=a,e.preventDefault()},...(0,f.OI)({OpenWindowCreateConnect:"setWindowCreateConnection",changeMainBackground:"setMainBackground",OpenWindowAreas:"setWindowAreas",pickConnectionClick:"setCheckConnectionBar",pushConParamToWindow:"setConParamToWindow"}),...(0,f.nv)({getAllConnections:"getAllConnections",getAreaFromConnection:"getAreaFromConnection",StatusConnections:"getStatusConnections",deleteConnection:"deleteConnection"}),pickConnection(e){this.check!=e&&this.getAreaFromConnection(this.ConnectionList[e].id),this.pickConnectionClick(e)},changeSwitcher(e){se.post("connection/status/",{id:e})},startTimer(){this.StatusConnections(),setTimeout(this.startTimer,3e3)}},created(){this.getAllConnections()},mounted(){this.StatusConnections(),setTimeout(this.startTimer,100)}};const de=(0,L.Z)(le,[["render",oe],["__scopeId","data-v-3ef8a41f"]]);var ce=de,me=n.p+"img/ptich.4887abe5.svg";const ue=e=>((0,i.dD)("data-v-9ff5da6a"),e=e(),(0,i.Cn)(),e),pe={class:"header"},he=ue((()=>(0,i._)("h2",null,"Add new connection",-1))),we={class:"form-connecton"},be={class:"line-form"},_e=ue((()=>(0,i._)("div",{class:"name-line"},"Name connection:",-1))),ve={class:"input-form"},ge=ue((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name connection can be max 50 sign and min 5 sign #TODO")],-1))),fe={class:"line-form"},Ce=ue((()=>(0,i._)("div",{class:"name-line"},"IP address:",-1))),ye={class:"input-form"},Ve=ue((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"IP address of device which you want to connect")],-1))),ke={class:"line-form"},Pe=ue((()=>(0,i._)("div",{class:"name-line"},"Port:",-1))),We={class:"input-form"},Se=ue((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Device port in network")],-1))),Ae={class:"line-form"},Le=ue((()=>(0,i._)("div",{class:"name-line"},"Driver:",-1))),De={class:"input-form"},Fe=ue((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("p",null,"Choose driver by device which you want to add:"),(0,i._)("li",null,"Snap7 - only controller by Siemens"),(0,i._)("li",null,"TCP-IP - all device which work with this protocol")],-1))),Oe={class:"line-form"},Te=ue((()=>(0,i._)("div",{class:"name-line"},"Slot:",-1))),xe={class:"input-form"},qe=ue((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("p",null,"Param which set in controller program, usually:"),(0,i._)("li",null,"by s300 equals 2"),(0,i._)("li",null,"by s1200 equals 1")],-1))),Be={class:"line-form"},Ie=ue((()=>(0,i._)("div",{class:"name-line"},"Rack:",-1))),Me={class:"input-form"},Ue=ue((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Param which set in controller program, usually equals 0")],-1))),Re={class:"icon-plus"},Ne=ue((()=>(0,i._)("img",{src:me},null,-1))),ze=[Ne];function je(e,a,n,r,s,l){const d=(0,i.up)("el-option"),c=(0,i.up)("el-select"),m=(0,i.up)("LoaderIcon");return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["window",{windowHeight:"Snap7"===s.connectionParam.driver,windowHeightMod:"ModbusTCP"===s.connectionParam.driver}])},[(0,i._)("div",pe,[he,(0,i._)("div",{class:"button-close",onClick:a[0]||(a[0]=a=>e.CloseWindow(!1))},"×")]),(0,i._)("div",we,[(0,i._)("div",be,[_e,(0,i._)("div",ve,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>s.connectionParam.name=e)},null,512),[[t.nr,s.connectionParam.name]]),ge])]),(0,i._)("div",fe,[Ce,(0,i._)("div",ye,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>s.connectionParam.ip_address=e)},null,512),[[t.nr,s.connectionParam.ip_address]]),Ve])]),(0,i._)("div",ke,[Pe,(0,i._)("div",We,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>s.connectionParam.port=e)},null,512),[[t.nr,s.connectionParam.port]]),Se])]),(0,i._)("div",Ae,[Le,(0,i._)("div",De,[(0,i.Wm)(c,{modelValue:s.connectionParam.driver,"onUpdate:modelValue":a[4]||(a[4]=e=>s.connectionParam.driver=e),class:"m-2",placeholder:"Select",size:"small",namespace:"hrad-1","popper-class":"hrad-2"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.drivers,(e=>((0,i.wg)(),(0,i.j4)(d,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),Fe])]),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Oe,[Te,(0,i._)("div",xe,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>s.connectionParam.slot=e)},null,512),[[t.nr,s.connectionParam.slot]]),qe])],512),[[t.F8,"Snap7"==s.connectionParam.driver]])])),_:1}),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",Be,[Ie,(0,i._)("div",Me,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=e=>s.connectionParam.rack=e)},null,512),[[t.nr,s.connectionParam.rack]]),Ue])],512),[[t.F8,"Snap7"==s.connectionParam.driver]])])),_:1}),(0,i.Wm)(t.uT,{name:"fadebuttom"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",{class:"button-add",onClick:a[7]||(a[7]=(...e)=>l.createConnection&&l.createConnection(...e))},[(0,i.wy)((0,i.Wm)(m,null,null,512),[[t.F8,e.procReques]]),(0,i.wy)((0,i._)("div",Re,ze,512),[[t.F8,!e.procReques]]),(0,i.wy)((0,i._)("label",null,"Save",512),[[t.F8,!e.procReques]])],512),[[t.F8,s.connectionParam.driver]])])),_:1})])],2)}var Ze={name:"WindowCreateConnection",components:{LoaderIcon:O},computed:{...(0,f.Se)({procReques:"getloadConnection",ParamConnectiob:"getParamWindowCreateConnectiob"})},data(){return{connectionParam:{name:"",ip_address:"",port:null,driver:"",slot:null,rack:null},statusChange:!1,drivers:[{key:1,label:"Snap7",value:"Snap7"},{key:2,label:"ModbusTCP",value:"ModbusTCP"}]}},methods:{...(0,f.nv)({addConnection:"addConnection",changeConnection:"changeConnection"}),...(0,f.OI)({CloseWindow:"setWindowCreateConnection"}),createConnection(){if(this.statusChange){let e={param:this.connectionParam,id:this.ParamConnectiob.id};this.changeConnection(e)}else this.addConnection(this.connectionParam)}},mounted(){this.statusChange=!1,this.ParamConnectiob&&(this.connectionParam.name=this.ParamConnectiob.name,this.connectionParam.ip_address=this.ParamConnectiob.ip_address,this.connectionParam.port=this.ParamConnectiob.port,this.connectionParam.driver=this.ParamConnectiob.driver,this.connectionParam.slot=this.ParamConnectiob.slot,this.connectionParam.rack=this.ParamConnectiob.rack,this.statusChange=!0)}};const He=(0,L.Z)(Ze,[["render",je],["__scopeId","data-v-9ff5da6a"]]);var Ee=He;const Ye=e=>((0,i.dD)("data-v-55f6f5d2"),e=e(),(0,i.Cn)(),e),Ke={class:"window"},$e={class:"header"},Je={key:0,class:"header-form-plase"},Ge=Ye((()=>(0,i._)("div",null,[(0,i._)("div",{class:"vl"})],-1))),Qe={key:1,class:"load-plase"};function Xe(e,a,n,r,s,l){const d=(0,i.up)("ButtonNewArea"),c=(0,i.up)("AreaLine"),m=(0,i.up)("LoaderIcon");return(0,i.wg)(),(0,i.iD)("div",Ke,[(0,i._)("div",$e,[(0,i._)("h2",null,"Areas of "+(0,o.zw)(e.ConnectionList[e.check].name),1),(0,i._)("div",{class:"button-close",onClick:a[0]||(a[0]=(...e)=>l.closeWindow&&l.closeWindow(...e))},"×")]),(0,i.Wm)(t.uT,{name:"fade",mode:"out-in"},{default:(0,i.w5)((()=>[e.loaderAreaList?((0,i.wg)(),(0,i.iD)("div",Qe,[(0,i.Wm)(m)])):((0,i.wg)(),(0,i.iD)("div",Je,[(0,i.Wm)(d,{connection_id:e.ConnectionList[e.check].id,indexConnection:e.check,driver:e.ConnectionList[e.check].driver},null,8,["connection_id","indexConnection","driver"]),Ge,(0,i.Wm)(t.W3,{name:"list"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.areaList,((a,n)=>((0,i.wg)(),(0,i.iD)("div",{key:a},[(0,i.Wm)(c,{area_param:a,area_index:n,indexConnection:e.check},null,8,["area_param","area_index","indexConnection"])])))),128))])),_:1})]))])),_:1})])}const ea=e=>((0,i.dD)("data-v-71899687"),e=e(),(0,i.Cn)(),e),aa=ea((()=>(0,i._)("p",{class:"icon-button"},"+",-1))),na=ea((()=>(0,i._)("p",{class:"name-button"},"Add new area",-1))),ia=[aa,na],ta=ea((()=>(0,i._)("p",{class:"icon-button"},"×",-1))),oa=ea((()=>(0,i._)("p",{class:"name-button-close"},"Close",-1))),ra=[ta,oa];function sa(e,a,n,r,s,l){const d=(0,i.up)("FormArea");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",null,[s.showForm?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"add-area-button",onClick:a[0]||(a[0]=e=>s.showForm=!s.showForm)},ia)),s.showForm?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"add-area-button close",onClick:a[1]||(a[1]=e=>s.showForm=!s.showForm)},ra)):(0,i.kq)("",!0)]),(0,i._)("div",{class:(0,o.C_)(["form-block",{"form-hide":!s.showForm,"form-open":s.showForm&&!s.bigForm,"form-open-big":s.showForm&&s.bigForm}])},[(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[s.showForm?((0,i.wg)(),(0,i.j4)(d,{key:0,mode_change:!1,connection_id:n.connection_id,onCloseEnd:a[2]||(a[2]=e=>s.showForm=!1),style:{height:"10px"},driver:n.driver,onOnBigType:a[3]||(a[3]=e=>s.bigForm=e)},null,8,["connection_id","driver"])):(0,i.kq)("",!0)])),_:1})],2)],64)}const la=e=>((0,i.dD)("data-v-3344a428"),e=e(),(0,i.Cn)(),e),da={class:"form-connecton"},ca={class:"line-form"},ma=la((()=>(0,i._)("div",{class:"name-line"},"Name area:",-1))),ua={class:"input-form"},pa=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name area can be max 100 signs and min 5 signs #TODO")],-1))),ha={key:0,class:"line-form"},wa=la((()=>(0,i._)("div",{class:"name-line"},"Type of area:",-1))),ba={class:"input-form"},_a=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("p",null,"Choose type memory where is Verbals:"),(0,i._)("li",null,"DB - memory which belong DB (need number DB)"),(0,i._)("li",null,"PA - memory which belong Output (Q) Verbals")],-1))),va={key:0,class:"line-form"},ga=la((()=>(0,i._)("div",{class:"name-line"},"Number DB:",-1))),fa={class:"input-form"},Ca=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name area can be max 100 signs and min 5 signs #TODO")],-1))),ya={key:2,class:"line-form"},Va=la((()=>(0,i._)("div",{class:"name-line"},"Start byte:",-1))),ka={class:"input-form"},Pa=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Count start from 0")],-1))),Wa={key:3,class:"line-form"},Sa=la((()=>(0,i._)("div",{class:"name-line"},"Offset:",-1))),Aa={class:"input-form"},La=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Min number 1")],-1))),Da={key:4,class:"line-form"},Fa=la((()=>(0,i._)("div",{class:"name-line"},"Slave id:",-1))),Oa={class:"input-form"},Ta=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Min number 1")],-1))),xa={key:5,class:"line-form"},qa=la((()=>(0,i._)("div",{class:"name-line"},"Function:",-1))),Ba={class:"input-form"},Ia=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO ...")],-1))),Ma={key:6,class:"line-form"},Ua=la((()=>(0,i._)("div",{class:"name-line"},"Size:",-1))),Ra={class:"input-form"},Na=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO ...")],-1))),za={key:7,class:"line-form"},ja=la((()=>(0,i._)("div",{class:"name-line"},"Start register:",-1))),Za={class:"input-form"},Ha=la((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO ...")],-1))),Ea={class:"add-area-button"},Ya=la((()=>(0,i._)("div",{class:"icon-button"},[(0,i._)("img",{src:me})],-1))),Ka={key:0,class:"name-button"},$a={key:1,class:"name-button"};function Ja(e,a,n,r,s,l){const d=(0,i.up)("el-option"),c=(0,i.up)("el-select");return(0,i.wg)(),(0,i.iD)("div",da,[(0,i._)("div",ca,[ma,(0,i._)("div",ua,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.areaParam.name=e)},null,512),[[t.nr,s.areaParam.name]]),pa])]),"Snap7"==n.driver?((0,i.wg)(),(0,i.iD)("div",ha,[wa,(0,i._)("div",ba,[(0,i.Wm)(c,{modelValue:s.areaParam.type_area,"onUpdate:modelValue":a[1]||(a[1]=e=>s.areaParam.type_area=e),class:"m-2",placeholder:"Select type",size:"small",namespace:"hrad-1","popper-class":"hrad-2",change:e.$emit("onBigType","DB"==s.areaParam.type_area)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.drivers,(e=>((0,i.wg)(),(0,i.j4)(d,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","change"]),_a])])):(0,i.kq)("",!0),"Snap7"==n.driver?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,o.C_)(["block-hided",{"block-hide":!("DB"==s.areaParam.type_area),"block-open":"DB"==s.areaParam.type_area}])},["DB"==s.areaParam.type_area?((0,i.wg)(),(0,i.iD)("div",va,[ga,(0,i._)("div",fa,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>s.areaParam.number_db=e)},null,512),[[t.nr,s.areaParam.number_db]]),Ca])])):(0,i.kq)("",!0)],2)):(0,i.kq)("",!0),"Snap7"==n.driver?((0,i.wg)(),(0,i.iD)("div",ya,[Va,(0,i._)("div",ka,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>s.areaParam.start_byte=e)},null,512),[[t.nr,s.areaParam.start_byte]]),Pa])])):(0,i.kq)("",!0),"Snap7"==n.driver?((0,i.wg)(),(0,i.iD)("div",Wa,[Sa,(0,i._)("div",Aa,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>s.areaParam.offset=e)},null,512),[[t.nr,s.areaParam.offset]]),La])])):(0,i.kq)("",!0),"ModbusTCP"==n.driver?((0,i.wg)(),(0,i.iD)("div",Da,[Fa,(0,i._)("div",Oa,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>s.areaParam.slave_id=e)},null,512),[[t.nr,s.areaParam.slave_id]]),Ta])])):(0,i.kq)("",!0),"ModbusTCP"==n.driver?((0,i.wg)(),(0,i.iD)("div",xa,[qa,(0,i._)("div",Ba,[(0,i.Wm)(c,{modelValue:s.areaParam.function,"onUpdate:modelValue":a[6]||(a[6]=e=>s.areaParam.function=e),class:"m-2",placeholder:"Select function",size:"small",namespace:"hrad-1","popper-class":"hrad-2"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.function_kind,(e=>((0,i.wg)(),(0,i.j4)(d,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),Ia])])):(0,i.kq)("",!0),"ModbusTCP"==n.driver?((0,i.wg)(),(0,i.iD)("div",Ma,[Ua,(0,i._)("div",Ra,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>s.areaParam.size=e)},null,512),[[t.nr,s.areaParam.size]]),Na])])):(0,i.kq)("",!0),"ModbusTCP"==n.driver?((0,i.wg)(),(0,i.iD)("div",za,[ja,(0,i._)("div",Za,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[8]||(a[8]=e=>s.areaParam.start_register=e)},null,512),[[t.nr,s.areaParam.start_register]]),Ha])])):(0,i.kq)("",!0),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[s.areaParam.type_area||s.areaParam.function?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"line-form try",onClick:a[9]||(a[9]=(...e)=>l.saveMethod&&l.saveMethod(...e))},[(0,i._)("div",Ea,[Ya,n.mode_change?((0,i.wg)(),(0,i.iD)("p",Ka,"Change")):(0,i.kq)("",!0),n.mode_change?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",$a,"Save"))])])):(0,i.kq)("",!0)])),_:1})])}var Ga={props:["mode_change","index_area","connection_id","driver"],components:{},emits:["closeEnd","onBigType"],data(){return{areaParam:{name:"",number_db:null,start_byte:null,offset:null,connection:""},drivers:[{key:1,label:"DB",value:"DB"},{key:2,label:"PA",value:"PA"}],function_kind:[{key:1,label:"3",value:3},{key:2,label:"4",value:4}]}},methods:{async saveMethod(){this.mode_change?(this.areaParam.connection="http://127.0.0.1:8000/connection/"+this.connection_id+"/",this.changeArea({id_area:this.areaList[this.index_area].id,data:this.areaParam}),this.areaParam.connection="",this.$emit("closeEnd")):(this.areaParam.connection="http://127.0.0.1:8000/connection/"+this.connection_id+"/",await this.addNewArea(this.areaParam),this.areaParam.connection="",this.$emit("closeEnd"))},...(0,f.nv)({deleteArea:"deleteArea",addNewArea:"addNewArea",changeArea:"changeArea"}),checkParam(){let e=!1;return"string"==typeof this.areaParam.name&&1==this.areaParam.name.split(" ").length&&("DB"==this.areaParam.type_area&&this.areaParam.number_db?this.areaParam.start_byte&&this.areaParam.offset&&(e=!0):"PA"==this.areaParam.type_area&&this.areaParam.start_byte&&this.areaParam.offset&&(e=!0)),e}},computed:{...(0,f.Se)({areaList:"getAreaList"})},mounted(){this.mode_change&&(this.areaParam.name=this.areaList[this.index_area].name,this.areaParam.type_area=this.areaList[this.index_area].type_area,this.areaParam.number_db=this.areaList[this.index_area].number_db,this.areaParam.start_byte=this.areaList[this.index_area].start_byte,this.areaParam.offset=this.areaList[this.index_area].offset,this.areaParam.slave_id=this.areaList[this.index_area].slave_id,this.areaParam.function=this.areaList[this.index_area].function,this.areaParam.size=this.areaList[this.index_area].size,this.areaParam.start_register=this.areaList[this.index_area].start_register)}};const Qa=(0,L.Z)(Ga,[["render",Ja],["__scopeId","data-v-3344a428"]]);var Xa=Qa,en={props:["indexConnection","connection_id","driver"],components:{FormArea:Xa},data(){return{showForm:!1,bigForm:!1}},computed:{...(0,f.Se)({})}};const an=(0,L.Z)(en,[["render",sa],["__scopeId","data-v-71899687"]]);var nn=an,tn=n.p+"img/dustbin.b74ed8e6.svg",on=n.p+"img/pencil.58562d72.svg";const rn=e=>((0,i.dD)("data-v-5c57b152"),e=e(),(0,i.Cn)(),e),sn={class:"area-line"},ln={class:"header-area"},dn={class:"button-place"},cn=rn((()=>(0,i._)("img",{class:"dustbin",src:tn,alt:"Alt"},null,-1))),mn=[cn],un=rn((()=>(0,i._)("img",{class:"pencil",src:on,alt:"Alt"},null,-1))),pn=[un],hn=rn((()=>(0,i._)("p",{class:"icon-button"},"+",-1))),wn=rn((()=>(0,i._)("p",{class:"name-button"},"Add new variable",-1))),bn=[hn,wn],_n=rn((()=>(0,i._)("div",{class:"vl-area"},null,-1)));function vn(e,a,n,r,s,l){const d=(0,i.up)("FormArea"),c=(0,i.up)("VariableList");return(0,i.wg)(),(0,i.iD)("div",sn,[(0,i._)("div",ln,[(0,i._)("p",null,(0,o.zw)(n.area_param.name),1),(0,i._)("div",dn,[(0,i._)("div",{class:"icon",onClick:a[0]||(a[0]=(...e)=>l.deleteAndReloadArea&&l.deleteAndReloadArea(...e))},mn),(0,i._)("div",{class:"icon",onClick:a[1]||(a[1]=e=>s.showForm=!s.showForm)},pn),(0,i._)("div",{class:"add-veriable-button",onClick:a[2]||(a[2]=(...e)=>l.openWindowCreateVariable&&l.openWindowCreateVariable(...e))},bn)])]),(0,i._)("div",{class:(0,o.C_)(["form-block",{"form-hide":!s.showForm,"form-open":s.showForm&&!s.bigForm,"form-open-big":s.showForm&&s.bigForm}])},[(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[s.showForm?((0,i.wg)(),(0,i.j4)(d,{key:0,mode_change:!0,index_area:n.area_index,connection_id:e.ConnectionList[n.indexConnection].id,driver:e.ConnectionList[n.indexConnection].driver,onCloseEnd:a[3]||(a[3]=e=>s.showForm=!s.showForm),onOnBigType:a[4]||(a[4]=e=>s.bigForm=e)},null,8,["index_area","connection_id","driver"])):(0,i.kq)("",!0)])),_:1})],2),_n,(0,i.Wm)(c,{variableList:n.area_param.value,area_id:n.area_param.id,driver:this.ConnectionList[this.indexConnection].driver},null,8,["variableList","area_id","driver"])])}const gn={class:"variable-list-place"},fn=["onClick"];function Cn(e,a,n,r,s,l){return(0,i.wg)(),(0,i.iD)("div",gn,[(0,i.Wm)(t.W3,{name:"list"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.variableList,(a=>((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["variable-element",{active:a.id==e.Variable.vareable.id,diactive:a.id!=e.Variable.vareable.id}]),onClick:e=>l.pickVariable(a),key:a.id},[(0,i._)("p",null,(0,o.zw)(a.name),1)],10,fn)))),128))])),_:1})])}var yn={data(){return{}},props:["variableList","area_id","driver"],computed:{...(0,f.Se)({Variable:"getWindowVariableParam"})},methods:{...(0,f.OI)({setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus",setStatusWindowVariableParam:"setStatusWindowVariableParam"}),pickVariable(e){this.Variable.vareable.id==e.id?(this.setStatusWindowVariableParamStatus(!1),this.setStatusWindowVariableParam({var:{},area_id:null,driver:null})):(this.setStatusWindowVariableParamStatus(!0),this.setStatusWindowVariableParam({var:e,area_id:this.area_id,driver:this.driver}))}}};const Vn=(0,L.Z)(yn,[["render",Cn],["__scopeId","data-v-027eef8b"]]);var kn=Vn,Pn={data(){return{showForm:!1,bigForm:!1}},components:{FormArea:Xa,VariableList:kn},props:["area_param","area_index","indexConnection"],computed:{...(0,f.Se)({ConnectionList:"getConnectionList"})},methods:{...(0,f.nv)({deleteArea:"deleteArea"}),...(0,f.OI)({setWindowVariable:"setWindowVariableAdd",setWindowVariableName:"setWindowVariableAddName",setWindowVariableArea:"setWindowVariableAddArea",setDriverForWindowVariableAdd:"setDriverForWindowVariableAdd"}),openWindowCreateVariable(){this.setWindowVariable(!0),this.setWindowVariableName("Add new variable for "+this.area_param.name+" of areas"),this.setWindowVariableArea(this.area_param),this.setDriverForWindowVariableAdd(this.ConnectionList[this.indexConnection].driver)},async deleteAndReloadArea(){await this.deleteArea(this.area_param.id)}}};const Wn=(0,L.Z)(Pn,[["render",vn],["__scopeId","data-v-5c57b152"]]);var Sn=Wn,An={data(){return{showForm:!1}},components:{LoaderIcon:O,ButtonNewArea:nn,AreaLine:Sn},computed:{...(0,f.Se)({ConnectionList:"getConnectionList",check:"getCheckConnectionBar",areaList:"getAreaList",loaderAreaList:"getLoadAreaWindow"})},methods:{...(0,f.OI)({setWindowAreas:"setWindowAreas",setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus",setStatusWindowVariableParam:"setStatusWindowVariableParam"}),...(0,f.nv)({deleteArea:"deleteArea"}),closeWindow(){this.setStatusWindowVariableParamStatus(!1),this.setStatusWindowVariableParam({var:{},area_id:null,driver:null}),this.setWindowAreas(!1)}}};const Ln=(0,L.Z)(An,[["render",Xe],["__scopeId","data-v-55f6f5d2"]]);var Dn=Ln;const Fn={class:"windowVariable"},On={class:"header-form"};function Tn(e,a,n,t,r,s){const l=(0,i.up)("FormVariable");return(0,i.wg)(),(0,i.iD)("div",Fn,[(0,i._)("div",On,[(0,i._)("h2",null,(0,o.zw)(e.WindowVariable.headName),1),(0,i._)("div",{class:"button-close",onClick:a[0]||(a[0]=a=>e.setWindowVariable(!1))},"×")]),(0,i.Wm)(l,{area_id:e.WindowVariable.area.id,driver:e.WindowVariable.driver},null,8,["area_id","driver"])])}const xn=e=>((0,i.dD)("data-v-763f8b67"),e=e(),(0,i.Cn)(),e),qn={class:"line-form"},Bn=xn((()=>(0,i._)("div",{class:"name-line"},"Name variable:",-1))),In={class:"input-form"},Mn=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Name variable can be max 50 sign and min 5 sign #TODO")],-1))),Un={class:"line-form"},Rn=xn((()=>(0,i._)("div",{class:"name-line"},"Start byte of area:",-1))),Nn={class:"input-form"},zn=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Number 0 - ... , which connect with variable of area #TODO")],-1))),jn={class:"line-form"},Zn=xn((()=>(0,i._)("div",{class:"name-line"},"Minimal time:",-1))),Hn={class:"input-form"},En=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Minimal time between write data, ms")],-1))),Yn={class:"line-form"},Kn=xn((()=>(0,i._)("div",{class:"name-line"},"Type taken data:",-1))),$n={class:"input-form"},Jn=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Type data which takes from equipment")],-1))),Gn={key:0,class:"line-form"},Qn=xn((()=>(0,i._)("div",{class:"name-line"},"Bit number:",-1))),Xn={class:"input-form"},ei=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Number bit of byte")],-1))),ai={class:"line-form"},ni=xn((()=>(0,i._)("div",{class:"name-line"},"Type data for write:",-1))),ii={class:"input-form"},ti=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Type data which write to DB")],-1))),oi={key:1,class:"line-form"},ri={class:"name-line-with-form"},si={class:"left-part-line"},li=xn((()=>(0,i._)("div",{class:"name bigname"},"Signed:",-1))),di=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO")],-1))),ci={key:2,class:"line-form"},mi={class:"name-line-with-form"},ui={class:"left-part-line"},pi=xn((()=>(0,i._)("div",{class:"name bigname"},"Big endian:",-1))),hi=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO")],-1))),wi={key:3,class:"line-form"},bi={class:"name-line-with-form"},_i={class:"left-part-line"},vi=xn((()=>(0,i._)("div",{class:"name bigname"},"Byte swap:",-1))),gi=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"#TODO")],-1))),fi={class:"line-form"},Ci={class:"name-line-with-form"},yi={class:"left-part-line"},Vi=xn((()=>(0,i._)("div",{class:"name"},"Divide:",-1))),ki=["disabled"],Pi=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Data from equipment divide and write to DB")],-1))),Wi={class:"line-form"},Si={class:"name-line-with-form"},Ai={class:"left-part-line"},Li=xn((()=>(0,i._)("div",{class:"name bigname"},"If change:",-1))),Di=xn((()=>(0,i._)("div",{class:"discription-line"},[(0,i._)("li",null,"Write data if data change")],-1))),Fi={class:"last-line"},Oi=xn((()=>(0,i._)("div",{class:"icon-button"},[(0,i._)("img",{src:me})],-1))),Ti={key:0,class:"name-button"},xi={key:1,class:"name-button"};function qi(e,a,n,o,r,s){const l=(0,i.up)("SelectElement");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",qn,[Bn,(0,i._)("div",In,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>r.paramVariable.name=e)},null,512),[[t.nr,r.paramVariable.name]]),Mn])]),(0,i._)("div",Un,[Rn,(0,i._)("div",Nn,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>r.paramVariable.start=e)},null,512),[[t.nr,r.paramVariable.start]]),zn])]),(0,i._)("div",jn,[Zn,(0,i._)("div",Hn,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>r.paramVariable.time_min=e)},null,512),[[t.nr,r.paramVariable.time_min]]),En])]),(0,i._)("div",Yn,[Kn,(0,i._)("div",$n,[(0,i.Wm)(l,{modelValue:r.paramVariable.type_value,"onUpdate:modelValue":a[3]||(a[3]=e=>r.paramVariable.type_value=e),listOption:r.kindOfType,colorbac:"rgba(241, 243, 255, 0.4)"},null,8,["modelValue","listOption"]),Jn])]),r.paramVariable.type_value==r.kindOfType[3]?((0,i.wg)(),(0,i.iD)("div",Gn,[Qn,(0,i._)("div",Xn,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>r.paramVariable.bit=e)},null,512),[[t.nr,r.paramVariable.bit]]),ei])])):(0,i.kq)("",!0),(0,i._)("div",ai,[ni,(0,i._)("div",ii,[(0,i.Wm)(l,{modelValue:r.paramVariable.type_value_for_write,"onUpdate:modelValue":a[5]||(a[5]=e=>r.paramVariable.type_value_for_write=e),listOption:r.kindOfType,colorbac:"rgba(241, 243, 255, 0.4)"},null,8,["modelValue","listOption"]),ti])]),"ModbusTCP"==n.driver?((0,i.wg)(),(0,i.iD)("div",oi,[(0,i._)("div",ri,[(0,i._)("div",si,[li,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=e=>r.paramVariable.signed=e)},null,512),[[t.e8,r.paramVariable.signed]])]),di])])):(0,i.kq)("",!0),"ModbusTCP"==n.driver?((0,i.wg)(),(0,i.iD)("div",ci,[(0,i._)("div",mi,[(0,i._)("div",ui,[pi,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=e=>r.paramVariable.big_endian=e)},null,512),[[t.e8,r.paramVariable.big_endian]])]),hi])])):(0,i.kq)("",!0),"ModbusTCP"==n.driver?((0,i.wg)(),(0,i.iD)("div",wi,[(0,i._)("div",bi,[(0,i._)("div",_i,[vi,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=e=>r.paramVariable.byte_swap=e)},null,512),[[t.e8,r.paramVariable.byte_swap]])]),gi])])):(0,i.kq)("",!0),(0,i._)("div",fi,[(0,i._)("div",Ci,[(0,i._)("div",yi,[Vi,(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=e=>r.paramVariable.divide=e)},null,512),[[t.e8,r.paramVariable.divide]]),(0,i.wy)((0,i._)("input",{type:"number",disabled:!r.paramVariable.divide,"onUpdate:modelValue":a[10]||(a[10]=e=>r.paramVariable.divide_namber=e)},null,8,ki),[[t.nr,r.paramVariable.divide_namber]])]),Pi])]),(0,i._)("div",Wi,[(0,i._)("div",Si,[(0,i._)("div",Ai,[Li,(0,i.wy)((0,i._)("input",{type:"checkbox",class:"big-checkbox","onUpdate:modelValue":a[11]||(a[11]=e=>r.paramVariable.if_change=e)},null,512),[[t.e8,r.paramVariable.if_change]])]),Di])]),(0,i._)("div",Fi,[(0,i._)("button",{class:"button-submit",onClick:a[12]||(a[12]=(...e)=>s.saveVariable&&s.saveVariable(...e))},[Oi,n.changeMode?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",Ti,"Save")),n.changeMode?((0,i.wg)(),(0,i.iD)("p",xi,"Change")):(0,i.kq)("",!0)])])],64)}var Bi=n.p+"img/strelka-down.2e91a1ae.svg";const Ii={key:0,class:"choosing-show-place"},Mi={key:1,class:"choosing-show-place"},Ui={class:"icon-diraction"},Ri={key:0,class:"options-place",style:{transition:"opacity .4s"}},Ni=["onClick"];function zi(e,a,n,r,s,l){return(0,i.wg)(),(0,i.iD)("div",{class:"select-place",style:(0,o.j5)({background:n.colorbac}),onClick:a[0]||(a[0]=e=>s.showOption=!s.showOption)},[n.modelValue?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Ii,"Select type")),n.modelValue?((0,i.wg)(),(0,i.iD)("div",Mi,(0,o.zw)(n.modelValue.label),1)):(0,i.kq)("",!0),(0,i._)("div",Ui,[(0,i._)("img",{src:Bi,class:(0,o.C_)({up:s.showOption}),draggable:"false",alt:""},null,2)]),(0,i.Wm)(t.uT,{name:"fade"},{default:(0,i.w5)((()=>[s.showOption?((0,i.wg)(),(0,i.iD)("div",Ri,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.listOption,(e=>((0,i.wg)(),(0,i.iD)("li",{onClick:a=>l.getOption(e),key:e.key},(0,o.zw)(e.label),9,Ni)))),128))])):(0,i.kq)("",!0)])),_:1})],4)}var ji={props:["listOption","modelValue","colorbac"],emits:["update:modelValue"],data(){return{showOption:!1}},methods:{getOption(e){this.$emit("update:modelValue",e)}}};const Zi=(0,L.Z)(ji,[["render",zi],["__scopeId","data-v-8a7a61a0"]]);var Hi=Zi,Ei={components:{SelectElement:Hi},props:["area_id","changeMode","variableParam","driver"],emits:["closeForm"],data(){return{paramVariable:{},kindOfType:[{key:1,label:"int",value:"int"},{key:2,label:"float",value:"float"},{key:3,label:"double",value:"double"},{key:4,label:"bool",value:"bool"}]}},methods:{...(0,f.nv)({addNewVareable:"addNewVareable",changeVareable:"changeVareable"}),saveVariable(){let e={name:this.paramVariable.name,start:this.paramVariable.start,type_value_get_data:this.paramVariable.type_value.value,type_value_write_data:this.paramVariable.type_value_for_write.value,if_change:this.paramVariable.if_change,divide:this.paramVariable.divide,divide_number:this.paramVariable.divide_namber,time_write_if_change:this.paramVariable.time_min,bit:this.paramVariable.bit,byte_swap:this.paramVariable.byte_swap,big_endian:this.paramVariable.big_endian,signed:this.paramVariable.signed,area:"http://127.0.0.1:8000/area/"+this.area_id+"/"};this.changeMode?(this.changeVareable({id:this.variableParam.id,data:e}),this.$emit("closeForm")):this.addNewVareable(e)}},mounted(){this.changeMode&&(this.paramVariable.name=this.variableParam.name,this.paramVariable.start=this.variableParam.start,this.kindOfType.find((e=>{e.value==this.variableParam.type_value_get_data&&(this.paramVariable.type_value=e)})),this.kindOfType.find((e=>{e.value==this.variableParam.type_value_write_data&&(this.paramVariable.type_value_for_write=e)})),this.paramVariable.if_change=this.variableParam.if_change,this.paramVariable.divide=this.variableParam.divide,this.paramVariable.divide_namber=this.variableParam.divide_number,this.paramVariable.time_min=this.variableParam.time_write_if_change,this.paramVariable.bit=this.variableParam.bit,this.paramVariable.byte_swap=this.variableParam.byte_swap,this.paramVariable.big_endian=this.variableParam.big_endian,this.paramVariable.signed=this.variableParam.signed)}};const Yi=(0,L.Z)(Ei,[["render",qi],["__scopeId","data-v-763f8b67"]]);var Ki=Yi,$i={components:{FormVariable:Ki},computed:{...(0,f.Se)({WindowVariable:"getParamWindowVariableAdd"})},methods:{...(0,f.OI)({setWindowVariable:"setWindowVariableAdd"})}};const Ji=(0,L.Z)($i,[["render",Tn],["__scopeId","data-v-35700561"]]);var Gi=Ji;const Qi=e=>((0,i.dD)("data-v-7f65a38b"),e=e(),(0,i.Cn)(),e),Xi={class:"windowVariable"},et={class:"header-form"},at={class:"button-place"},nt=Qi((()=>(0,i._)("img",{src:tn,alt:""},null,-1))),it=[nt],tt=Qi((()=>(0,i._)("img",{src:on,alt:""},null,-1))),ot=[tt],rt=Qi((()=>(0,i._)("div",{class:"vl-variable"},null,-1)));function st(e,a,n,t,r,s){const l=(0,i.up)("FormVariable"),d=(0,i.up)("highcharts");return(0,i.wg)(),(0,i.iD)("div",Xi,[(0,i._)("div",et,[(0,i._)("div",at,[(0,i._)("button",{onClick:a[0]||(a[0]=a=>e.deleteVareable({id:e.Variable.vareable.id,area_id:e.Variable.area_id}))},it),(0,i._)("button",{onClick:a[1]||(a[1]=e=>r.formShow=!r.formShow)},ot)]),(0,i._)("h2",null,(0,o.zw)(e.Variable.vareable.name),1),(0,i._)("div",{class:"button-close",onClick:a[2]||(a[2]=a=>e.setStatusWindowVariableParamStatus(!1))},"×")]),r.formShow?((0,i.wg)(),(0,i.j4)(l,{key:0,area_id:e.Variable.area_id,variableParam:e.Variable.vareable,changeMode:!0,driver:e.Variable.driver,onCloseForm:a[3]||(a[3]=e=>r.formShow=!1)},null,8,["area_id","variableParam","driver"])):(0,i.kq)("",!0),rt,(0,i.Wm)(d,{options:r.chartOptions},null,8,["options"])])}n(7658);var lt=n(880),dt=n.n(lt),ct={data(){return{formShow:!1,lastPointTime:null,flagStopTimeOut:!0,chartOptions:{credits:{enabled:!1},chart:{backgroundColor:null},title:{text:"asdasdas",style:{color:"#F1F3FF",fontSize:"1.125em"}},yAxis:{name:"",lineColor:"#F1F3FF",lineWidth:1,tickColor:"#F1F3FF",tickLength:5,tickWidth:1,labels:{style:{color:"#F1F3FF"}},gridLineWidth:0,title:{text:""}},xAxis:{name:"time",type:"datetime",lineColor:"#F1F3FF",lineWidth:1,tickColor:"#F1F3FF",tickLength:5,tickWidth:1,labels:{style:{color:"#F1F3FF"}},gridLineWidth:0,title:{text:"time",style:{color:"#F1F3FF",fontSize:"0.8em"}}},time:{timezone:"Europe/Minsk",timezoneOffset:-180},legend:{enabled:!1},series:[{data:[]}]}}},components:{FormVariable:Ki,highcharts:lt.Chart},computed:{...(0,f.Se)({Variable:"getWindowVariableParam"})},methods:{...(0,f.OI)({setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus"}),...(0,f.nv)({deleteVareable:"deleteVareable"}),getData(){se.post("connection/get_point/",{id_variable:this.Variable.vareable.id}).then((e=>{e.data.forEach((e=>{this.chartOptions.series[0].data.push(e)})),this.lastPointTime=e.data[e.data.length-1][0]}))},startTimerPoint(){null!=this.lastPointTime&&se.post("connection/get_point/",{id_variable:this.Variable.vareable.id,last_time:this.lastPointTime/1e3}).then((e=>{e.data.forEach((e=>{this.chartOptions.series[0].data.splice(0,1),this.chartOptions.series[0].data.push(e)})),0!=e.data.length&&(this.lastPointTime=e.data[e.data.length-1][0])})),this.flagStopTimeOut||setTimeout(this.startTimerPoint,4e3)}},mounted(){this.getData(),this.flagStopTimeOut=!1,setTimeout(this.startTimerPoint,1e3)},unmounted(){this.flagStopTimeOut=!0}};const mt=(0,L.Z)(ct,[["render",st],["__scopeId","data-v-7f65a38b"]]);var ut=mt,pt={name:"App",components:{LoginWindow:q,ConnectionBar:ce,WindowCreateConnection:Ee,WindowAreas:Dn,WindowAddVariable:Gi,WindowVariable:ut},data(){return{}},computed:{...(0,f.Se)({LoginStatus:"getLoginStatus",Myclass:"getBackgroundMainWindow",windowCreateCon:"getStatusWindowCreateConnectiob",windowAreas:"getStatusWindowAreas",windowVareableAdd:"getStatusWindowVariableAdd",windowVareableStatus:"getStatusWindowVariableParam"})},methods:{...(0,f.nv)({getUserInfo:"checkUserInfo"}),test(){console.log(1),this.Myclass=!this.Myclass,console.log(this.Myclass)},showJustOneWindow(){return!(window.innerWidth<900)||!this.windowVareableAdd&&!this.windowVareableStatus&&this.windowAreas}},created(){this.getUserInfo();let e=localStorage.getItem("token");console.log(e)}};const ht=(0,L.Z)(pt,[["render",s]]);var wt=ht,bt=n(6423),_t=n(7178),vt=(0,f.MT)({state:{loginStatus:!0,processRequest:!1,backgroundStraight:!1,connectionBar:{ConnectionList:[],check:null},areaList:[],windows:{CreateConnection:{status:!1,loadRequest:!1,param:null},Areas:{status:!1,loadRequest:!1},VareableAdd:{status:!1,headName:"",area:null},VareableParam:{status:!1,vareable:{},area_id:null}}},getters:{getLoginStatus(e){return e.loginStatus},getProcessRequest(e){return e.processRequest},getloadConnection(e){return e.windows.CreateConnection.loadRequest},getLoadAreaWindow(e){return e.windows.Areas.loadRequest},getBackgroundMainWindow(e){return e.backgroundStraight},getStatusWindowCreateConnectiob(e){return e.windows.CreateConnection.status},getParamWindowCreateConnectiob(e){return e.windows.CreateConnection.param},getStatusWindowAreas(e){return e.windows.Areas.status},getStatusWindowVariableAdd(e){return e.windows.VareableAdd.status},getStatusWindowVariableParam(e){return e.windows.VareableParam.status},getWindowVariableParam(e){return e.windows.VareableParam},getParamWindowVariableAdd(e){return e.windows.VareableAdd},getConnectionList(e){return e.connectionBar.ConnectionList},getCheckConnectionBar(e){return e.connectionBar.check},getAreaList(e){return e.areaList}},mutations:{setLoginStatus(e,a){e.loginStatus=a},setStatusProcessRequest(e,a){e.processRequest=a},setWindowVariableAdd(e,a){1==a&&(e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={}),e.windows.VareableAdd.status=a},setDriverForWindowVariableAdd(e,a){e.windows.VareableAdd.driver=a},setStatusWindowVariableParamStatus(e,a){1==a&&(e.windows.VareableAdd.status=!1),e.windows.VareableParam.status=a,e.windows.VareableParam.vareable={}},setStatusWindowVariableParam(e,a){e.windows.VareableParam.vareable=a.var,e.windows.VareableParam.area_id=a.area_id,e.windows.VareableParam.driver=a.driver},setWindowVariableAddName(e,a){e.windows.VareableAdd.headName=a},setWindowVariableAddArea(e,a){e.windows.VareableAdd.area=a},setWindowCreateConnection(e,a){e.windows.CreateConnection.status=a,e.windows.CreateConnection.param=null,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={},e.connectionBar.check=null,e.backgroundStraight=!1},setConParamToWindow(e,a){e.windows.CreateConnection.param=a},setCheckConnectionBar(e,a){e.connectionBar.check==a?(e.connectionBar.check=null,e.backgroundStraight=!1,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={}):(e.connectionBar.check=a,e.backgroundStraight=!0,e.windows.Areas.status=!0,e.windows.CreateConnection.status=!1)},setConnectionList(e,a){e.connectionBar.ConnectionList=a},addNewConnection(e,a){e.connectionBar.ConnectionList.push(a)},changeConnection(e,a){let n=null;e.connectionBar.ConnectionList.find(((e,i)=>{a.id==e.id&&(n=i)})),null!=n&&(e.connectionBar.ConnectionList[n]=a)},deleteConnection(e,a){let n=null;e.connectionBar.ConnectionList.find(((e,i)=>{a==e.id&&(n=i)})),null!=n&&e.connectionBar.ConnectionList.splice(n,1)},setMainBackground(e,a){e.backgroundStraight=a},setloadConnection(e,a){e.windows.CreateConnection.loadRequest=a},setLoaderAreaWindow(e,a){e.windows.Areas.loadRequest=a},setWindowAreas(e,a){0==a?(e.connectionBar.check=null,e.backgroundStraight=!1,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1):(e.windows.Areas.status=a,e.windows.CreateConnection.status=!1)},setNewAreaList(e,a){e.areaList=a},setNewArea(e,a){e.areaList.push(a)},setRemoveArea(e,a){e.areaList.find(((n,i)=>{n.id==a&&e.areaList.splice(i,1)}))},changeAreaInConnection(e,a){let n=null;e.areaList.find(((e,i)=>{e.id==a.id&&(n=i)})),null!=n&&(e.areaList[n]=a)},setNewVariable(e,a){e.areaList.find((e=>{e.id==a.area_id&&e.value.push(a)}))},setChangedVariable(e,a){let n=null,i=null;e.areaList.find(((e,t)=>{e.id==a.area_id&&(n=t,e.value.find(((e,n)=>{e.id==a.id&&(i=n)})))})),null!=n&&null!=i&&(e.areaList[n].value[i]=a,e.windows.VareableParam.vareable=a)},setRemoveVariable(e,a){let n=null,i=null;e.areaList.find(((e,t)=>{e.id==a.area_id&&(n=t,e.value.find(((e,n)=>{e.id==a.id&&(i=n)})))})),null!=n&&null!=i&&e.areaList[n].value.splice(i,1)},setStatusConnections(e,a){let n=Object.keys(a);n.forEach((n=>{e.connectionBar.ConnectionList.find((e=>{e.id==Number(n)&&(e.status_connection=a[n].status_connection,e.switcher=a[n].switcher,e.status_process=a[n].status_process)}))}))}},actions:{async postLogin(e,a){e.commit("setStatusProcessRequest",!0),se.defaults.headers.common={},await se.post("user/login/",a).then((a=>{e.commit("setLoginStatus",!0),localStorage.setItem("token",a.data.token),se.defaults.headers.common={Authorization:`Token ${a.data.token}`}})).catch((a=>{console.log(a),(0,_t.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"Неверный логин или пароль"}),e.commit("setLoginStatus",!1)})),e.commit("setStatusProcessRequest",!1)},async checkUserInfo(e){await se.get("user/info/").then((()=>{e.commit("setLoginStatus",!0)})).catch((a=>{console.log(a),e.commit("setLoginStatus",!1)}))},async addConnection(e,a){e.commit("setloadConnection",!0),await se.post("connection/",a).then((a=>{e.commit("addNewConnection",a.data),e.commit("setWindowCreateConnection",!1)})).catch((e=>{console.log(e)})),e.commit("setloadConnection",!1)},async changeConnection(e,a){e.commit("setloadConnection",!0),await se.put("connection/"+a.id+"/",a.param).then((a=>{e.commit("changeConnection",a.data),e.commit("setWindowCreateConnection",!1)})).catch((e=>{console.log(e)})),e.commit("setloadConnection",!1)},async deleteConnection(e,a){await se["delete"]("connection/"+a+"/").then((()=>{e.commit("deleteConnection",a)}))},async getAllConnections(e){await se.get("connection/").then((a=>{e.commit("setConnectionList",a.data)}))},async getAreaFromConnection(e,a){e.commit("setLoaderAreaWindow",!0),await se.get("connection/"+a+"/area").then((a=>{e.commit("setNewAreaList",a.data)})).catch((e=>{(0,_t.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"Ошибка с запросом Area"}),console.log(e)})),e.commit("setLoaderAreaWindow",!1)},async addNewArea(e,a){await se.post("area/",a).then((a=>{e.commit("setNewArea",a.data)})).catch((e=>{console.log(e)}))},async changeArea(e,a){await se.put("area/"+a.id_area+"/",a.data).then((a=>{e.commit("changeAreaInConnection",a.data)}))},async deleteArea(e,a){await se["delete"]("area/"+a).then((()=>{e.commit("setRemoveArea",a)})).catch((e=>{console.log(e)}))},async addNewVareable(e,a){await se.post("value/",a).then((a=>{e.commit("setNewVariable",a.data),e.commit("setWindowVariableAdd",!1)}))},async changeVareable(e,a){await se.put("value/"+a.id+"/",a.data).then((a=>{e.commit("setChangedVariable",a.data)}))},async deleteVareable(e,a){await se["delete"]("value/"+a.id).then((()=>{e.commit("setStatusWindowVariableParamStatus",!1),e.commit("setRemoveVariable",a)}))},async getStatusConnections(e){await se.get("connection/status/").then((a=>{e.commit("setStatusConnections",a.data)}))}}}),gt=n(7879);n(4415);const ft=t.ri(wt);ft.use(gt.Z),ft.use(bt.Z,se),ft.use(vt),ft.use(dt()),ft.mount("#app")}},a={};function n(i){var t=a[i];if(void 0!==t)return t.exports;var o=a[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(a,i,t,o){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],t=e[c][1],o=e[c][2];for(var s=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(s=!1,o<r&&(r=o));if(s){e.splice(c--,1);var d=t();void 0!==d&&(a=d)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,t,o]}}(),function(){n.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(a,{a:a}),a}}(),function(){n.d=function(e,a){for(var i in a)n.o(a,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(a){return 0===e[a]};var a=function(a,i){var t,o,r=i[0],s=i[1],l=i[2],d=0;if(r.some((function(a){return 0!==e[a]}))){for(t in s)n.o(s,t)&&(n.m[t]=s[t]);if(l)var c=l(n)}for(a&&a(i);d<r.length;d++)o=r[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},i=self["webpackChunkSH"]=self["webpackChunkSH"]||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(7887)}));i=n.O(i)})();
//# sourceMappingURL=app.1f6e2537.js.map