(function(){"use strict";var e={3535:function(e,a,i){var n=i(3396),t=i(9242),r=i(7139);const o={class:"main-background"};function s(e,a,i,s,l,d){const c=(0,n.up)("LoginWindow"),u=(0,n.up)("ConnectionBar"),m=(0,n.up)("WindowCreateConnection"),p=(0,n.up)("WindowAreas"),b=(0,n.up)("WindowAddVariable"),_=(0,n.up)("WindowVariable");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.LoginStatus?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(c,{key:0}))])),_:1}),(0,n.Wm)(t.uT,{name:"slide-fade"},{default:(0,n.w5)((()=>[e.LoginStatus?((0,n.wg)(),(0,n.j4)(u,{key:0})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.windowCreateCon?((0,n.wg)(),(0,n.j4)(m,{key:0})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.windowAreas?((0,n.wg)(),(0,n.j4)(p,{key:0})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.windowVareableAdd?((0,n.wg)(),(0,n.j4)(b,{key:0})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.windowVareableStatus?((0,n.wg)(),(0,n.j4)(_,{key:0})):(0,n.kq)("",!0)])),_:1}),(0,n._)("div",o,[(0,n._)("div",{class:(0,r.C_)(["fig1",{strange:e.Myclass}])},null,2)])],64)}const l=e=>((0,n.dD)("data-v-3931af74"),e=e(),(0,n.Cn)(),e),d={class:"login-background"},c={class:"window-login"},u=l((()=>(0,n._)("div",{class:"name-window"},[(0,n._)("label",{class:"text"},"Sign in GetData")],-1))),m={class:"form-input"},p=l((()=>(0,n._)("div",null,"Username",-1))),b=["disabled"],_={class:"form-input"},w=l((()=>(0,n._)("div",null,"Password",-1))),v=["disabled"],h={class:"text"};function g(e,a,i,r,o,s){const l=(0,n.up)("LoaderIcon");return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",c,[u,(0,n._)("div",m,[p,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.Username=e),disabled:e.procReques,onKeyup:a[1]||(a[1]=(0,t.D2)(((...e)=>s.clickSignIn&&s.clickSignIn(...e)),["enter"]))},null,40,b),[[t.nr,o.Username]])]),(0,n._)("div",_,[w,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":a[2]||(a[2]=e=>o.Password=e),disabled:e.procReques,onKeyup:a[3]||(a[3]=(0,t.D2)(((...e)=>s.clickSignIn&&s.clickSignIn(...e)),["enter"]))},null,40,v),[[t.nr,o.Password]])]),(0,n._)("div",{class:"button-login",onClick:a[4]||(a[4]=(...e)=>s.clickSignIn&&s.clickSignIn(...e))},[(0,n.wy)((0,n._)("label",h,"Sign in",512),[[t.F8,!e.procReques]]),(0,n.wy)((0,n.Wm)(l,null,null,512),[[t.F8,e.procReques]])])])])}var f=i(65);const y=e=>((0,n.dD)("data-v-43d16122"),e=e(),(0,n.Cn)(),e),V={class:"lds-ellipsis"},k=y((()=>(0,n._)("div",null,null,-1))),C=y((()=>(0,n._)("div",null,null,-1))),P=y((()=>(0,n._)("div",null,null,-1))),S=y((()=>(0,n._)("div",null,null,-1))),W=[k,C,P,S];function A(e,a){return(0,n.wg)(),(0,n.iD)("div",V,W)}var D=i(89);const L={},F=(0,D.Z)(L,[["render",A],["__scopeId","data-v-43d16122"]]);var O=F,T={name:"LoginWindow",components:{LoaderIcon:O},data(){return{Username:"",Password:""}},computed:{...(0,f.Se)({procReques:"getProcessRequest"})},methods:{...(0,f.nv)({logIn:"postLogin"}),async clickSignIn(){let e={username:this.Username,password:this.Password};this.logIn(e)}}};const x=(0,D.Z)(T,[["render",g],["__scopeId","data-v-3931af74"]]);var q=x,I=i.p+"img/Snap-logo.422d14a5.svg";const B=e=>((0,n.dD)("data-v-0dc55164"),e=e(),(0,n.Cn)(),e),M={class:"main-bar"},U=B((()=>(0,n._)("div",{class:"icon-plus"},"+",-1))),N=B((()=>(0,n._)("label",null,"New connection",-1))),R=[U,N],z=B((()=>(0,n._)("div",{class:"vl"},null,-1))),j={class:"place-list-connection"},Z=["onClick"],H={class:"header-el-connection"},E={class:"switcher-area"},Y=["onClick","onUpdate:modelValue"],K={class:"body-el-connection"},$=B((()=>(0,n._)("img",{src:I,alt:"Alt"},null,-1))),G={class:"bottom-el-connection"};function Q(e,a,i,o,s,l){return(0,n.wg)(),(0,n.iD)("div",M,[(0,n._)("div",{class:"button-add",onClick:a[0]||(a[0]=a=>e.OpenWindowCreateConnect(!0))},R),z,(0,n._)("div",j,[(0,n.Wm)(t.W3,{name:"list"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.ConnectionList,((a,i)=>((0,n.wg)(),(0,n.iD)("div",{key:a,class:"one-line-connection",onClick:e=>l.pickConnection(i)},[(0,n._)("div",{class:(0,r.C_)(["check-flag",{"on-flag":e.check==i,"off-flag":!(e.check==i)}])},null,2),(0,n._)("div",{class:(0,r.C_)(["el-connection",{"status-connect":a.switcher&&a.status_connection,"status-disconnect":a.switcher&&!a.status_connection,"on-el-connection":a.status_process,"off-el-connection":!a.status_process}])},[(0,n._)("div",H,[(0,n._)("div",E,[(0,n.wy)((0,n._)("input",{class:"switcher",type:"checkbox",onClick:(0,t.iM)((e=>l.changeSwitcher(a.id)),["stop"]),"onUpdate:modelValue":e=>a.switcher=e},null,8,Y),[[t.e8,a.switcher]])])]),(0,n._)("div",K,[$,(0,n._)("label",null,(0,r.zw)(a.driver),1)]),(0,n._)("div",G,(0,r.zw)(a.name),1)],2)],8,Z)))),128))])),_:1})])])}var J=i(6943);J.Z.defaults.baseURL="http://shylin.ru:8000/",J.Z.defaults.headers.common={Authorization:`Token ${localStorage.getItem("token")}`};var X=J.Z,ee={name:"ConnectionBar",data(){return{status:{},test:!1}},computed:{...(0,f.Se)({ConnectionList:"getConnectionList",check:"getCheckConnectionBar"})},methods:{...(0,f.OI)({OpenWindowCreateConnect:"setWindowCreateConnection",changeMainBackground:"setMainBackground",OpenWindowAreas:"setWindowAreas",pickConnectionClick:"setCheckConnectionBar"}),...(0,f.nv)({getAllConnections:"getAllConnections",getAreaFromConnection:"getAreaFromConnection",StatusConnections:"getStatusConnections"}),pickConnection(e){this.check!=e&&this.getAreaFromConnection(this.ConnectionList[e].id),this.pickConnectionClick(e)},changeSwitcher(e){X.post("connection/status/",{id:e})},startTimer(){this.StatusConnections(),setTimeout(this.startTimer,3e3)}},created(){this.getAllConnections()},mounted(){this.StatusConnections(),setTimeout(this.startTimer,100)}};const ae=(0,D.Z)(ee,[["render",Q],["__scopeId","data-v-0dc55164"]]);var ie=ae,ne=i.p+"img/ptich.4887abe5.svg";const te=e=>((0,n.dD)("data-v-58702de3"),e=e(),(0,n.Cn)(),e),re={class:"header"},oe=te((()=>(0,n._)("h2",null,"Add new connection",-1))),se={class:"form-connecton"},le={class:"line-form"},de=te((()=>(0,n._)("div",{class:"name-line"},"Name connection:",-1))),ce={class:"input-form"},ue=te((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Name connection can be max 50 sign and min 5 sign #TODO")],-1))),me={class:"line-form"},pe=te((()=>(0,n._)("div",{class:"name-line"},"IP address:",-1))),be={class:"input-form"},_e=te((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"IP address of device which you want to connect")],-1))),we={class:"line-form"},ve=te((()=>(0,n._)("div",{class:"name-line"},"Port:",-1))),he={class:"input-form"},ge=te((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Device port in network")],-1))),fe={class:"line-form"},ye=te((()=>(0,n._)("div",{class:"name-line"},"Driver:",-1))),Ve={class:"input-form"},ke=te((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("p",null,"Choose driver by device which you want to add:"),(0,n._)("li",null,"Snap7 - only controller by Siemens"),(0,n._)("li",null,"TCP-IP - all device which work with this protocol")],-1))),Ce={class:"line-form"},Pe=te((()=>(0,n._)("div",{class:"name-line"},"Slot:",-1))),Se={class:"input-form"},We=te((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("p",null,"Param which set in controller program, usually:"),(0,n._)("li",null,"by s300 equals 2"),(0,n._)("li",null,"by s1200 equals 1")],-1))),Ae={class:"line-form"},De=te((()=>(0,n._)("div",{class:"name-line"},"Rack:",-1))),Le={class:"input-form"},Fe=te((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Param which set in controller program, usually equals 0")],-1))),Oe={class:"icon-plus"},Te=te((()=>(0,n._)("img",{src:ne},null,-1))),xe=[Te];function qe(e,a,i,o,s,l){const d=(0,n.up)("el-option"),c=(0,n.up)("el-select"),u=(0,n.up)("LoaderIcon");return(0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)(["window",{windowHeight:"Snap7"===s.connectionParam.driver,windowHeightMod:"ModbusTCP"===s.connectionParam.driver}])},[(0,n._)("div",re,[oe,(0,n._)("div",{class:"button-close",onClick:a[0]||(a[0]=a=>e.CloseWindow(!1))},"×")]),(0,n._)("div",se,[(0,n._)("div",le,[de,(0,n._)("div",ce,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>s.connectionParam.name=e)},null,512),[[t.nr,s.connectionParam.name]]),ue])]),(0,n._)("div",me,[pe,(0,n._)("div",be,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>s.connectionParam.ip_address=e)},null,512),[[t.nr,s.connectionParam.ip_address]]),_e])]),(0,n._)("div",we,[ve,(0,n._)("div",he,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>s.connectionParam.port=e)},null,512),[[t.nr,s.connectionParam.port]]),ge])]),(0,n._)("div",fe,[ye,(0,n._)("div",Ve,[(0,n.Wm)(c,{modelValue:s.connectionParam.driver,"onUpdate:modelValue":a[4]||(a[4]=e=>s.connectionParam.driver=e),class:"m-2",placeholder:"Select",size:"small",namespace:"hrad-1","popper-class":"hrad-2"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.drivers,(e=>((0,n.wg)(),(0,n.j4)(d,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),ke])]),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",Ce,[Pe,(0,n._)("div",Se,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>s.connectionParam.slot=e)},null,512),[[t.nr,s.connectionParam.slot]]),We])],512),[[t.F8,"Snap7"==s.connectionParam.driver]])])),_:1}),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",Ae,[De,(0,n._)("div",Le,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[6]||(a[6]=e=>s.connectionParam.rack=e)},null,512),[[t.nr,s.connectionParam.rack]]),Fe])],512),[[t.F8,"Snap7"==s.connectionParam.driver]])])),_:1}),(0,n.Wm)(t.uT,{name:"fadebuttom"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",{class:"button-add",onClick:a[7]||(a[7]=(...e)=>l.createConnection&&l.createConnection(...e))},[(0,n.wy)((0,n.Wm)(u,null,null,512),[[t.F8,e.procReques]]),(0,n.wy)((0,n._)("div",Oe,xe,512),[[t.F8,!e.procReques]]),(0,n.wy)((0,n._)("label",null,"Save",512),[[t.F8,!e.procReques]])],512),[[t.F8,s.connectionParam.driver]])])),_:1})])],2)}var Ie={name:"WindowCreateConnection",components:{LoaderIcon:O},computed:{...(0,f.Se)({procReques:"getloadConnection"})},data(){return{connectionParam:{name:"",ip_address:"",port:null,driver:"",slot:null,rack:null},drivers:[{key:1,label:"Snap7",value:"Snap7"},{key:2,label:"ModbusTCP",value:"ModbusTCP"}]}},methods:{...(0,f.nv)({addConnection:"addConnection"}),...(0,f.OI)({CloseWindow:"setWindowCreateConnection"}),createConnection(){this.addConnection(this.connectionParam)}}};const Be=(0,D.Z)(Ie,[["render",qe],["__scopeId","data-v-58702de3"]]);var Me=Be;const Ue=e=>((0,n.dD)("data-v-30d06f8a"),e=e(),(0,n.Cn)(),e),Ne={class:"window"},Re={class:"header"},ze={key:0,class:"header-form-plase"},je=Ue((()=>(0,n._)("div",null,[(0,n._)("div",{class:"vl"})],-1))),Ze={key:1,class:"load-plase"};function He(e,a,i,o,s,l){const d=(0,n.up)("ButtonNewArea"),c=(0,n.up)("AreaLine"),u=(0,n.up)("LoaderIcon");return(0,n.wg)(),(0,n.iD)("div",Ne,[(0,n._)("div",Re,[(0,n._)("h2",null,"Areas of "+(0,r.zw)(e.ConnectionList[e.check].name),1),(0,n._)("div",{class:"button-close",onClick:a[0]||(a[0]=(...e)=>l.closeWindow&&l.closeWindow(...e))},"×")]),(0,n.Wm)(t.uT,{name:"fade",mode:"out-in"},{default:(0,n.w5)((()=>[e.loaderAreaList?((0,n.wg)(),(0,n.iD)("div",Ze,[(0,n.Wm)(u)])):((0,n.wg)(),(0,n.iD)("div",ze,[(0,n.Wm)(d,{connection_id:e.ConnectionList[e.check].id,indexConnection:e.check,driver:e.ConnectionList[e.check].driver},null,8,["connection_id","indexConnection","driver"]),je,(0,n.Wm)(t.W3,{name:"list"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.areaList,((a,i)=>((0,n.wg)(),(0,n.iD)("div",{key:a},[(0,n.Wm)(c,{area_param:a,area_index:i,indexConnection:e.check},null,8,["area_param","area_index","indexConnection"])])))),128))])),_:1})]))])),_:1})])}const Ee=e=>((0,n.dD)("data-v-4f84152f"),e=e(),(0,n.Cn)(),e),Ye=Ee((()=>(0,n._)("p",{class:"icon-button"},"+",-1))),Ke=Ee((()=>(0,n._)("p",{class:"name-button"},"Add new area",-1))),$e=[Ye,Ke],Ge=Ee((()=>(0,n._)("p",{class:"icon-button"},"×",-1))),Qe=Ee((()=>(0,n._)("p",{class:"name-button-close"},"Close",-1))),Je=[Ge,Qe];function Xe(e,a,i,o,s,l){const d=(0,n.up)("FormArea");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[s.showForm?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",{key:0,class:"add-area-button",onClick:a[0]||(a[0]=e=>s.showForm=!s.showForm)},$e)),s.showForm?((0,n.wg)(),(0,n.iD)("div",{key:1,class:"add-area-button close",onClick:a[1]||(a[1]=e=>s.showForm=!s.showForm)},Je)):(0,n.kq)("",!0)]),(0,n._)("div",{class:(0,r.C_)(["form-block",{"form-hide":!s.showForm,"form-open":s.showForm&&!s.bigForm,"form-open-big":s.showForm&&s.bigForm}])},[(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[s.showForm?((0,n.wg)(),(0,n.j4)(d,{key:0,mode_change:!1,connection_id:i.connection_id,onCloseEnd:a[2]||(a[2]=e=>s.showForm=!1),style:{height:"10px"},driver:i.driver,onOnBigType:a[3]||(a[3]=e=>s.bigForm=e)},null,8,["connection_id","driver"])):(0,n.kq)("",!0)])),_:1})],2)],64)}const ea=e=>((0,n.dD)("data-v-019dabbf"),e=e(),(0,n.Cn)(),e),aa={class:"form-connecton"},ia={class:"line-form"},na=ea((()=>(0,n._)("div",{class:"name-line"},"Name area:",-1))),ta={class:"input-form"},ra=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Name area can be max 100 signs and min 5 signs #TODO")],-1))),oa={key:0,class:"line-form"},sa=ea((()=>(0,n._)("div",{class:"name-line"},"Type of area:",-1))),la={class:"input-form"},da=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("p",null,"Choose type memory where is Verbals:"),(0,n._)("li",null,"DB - memory which belong DB (need number DB)"),(0,n._)("li",null,"PA - memory which belong Output (Q) Verbals")],-1))),ca={key:0,class:"line-form"},ua=ea((()=>(0,n._)("div",{class:"name-line"},"Number DB:",-1))),ma={class:"input-form"},pa=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Name area can be max 100 signs and min 5 signs #TODO")],-1))),ba={key:2,class:"line-form"},_a=ea((()=>(0,n._)("div",{class:"name-line"},"Start byte:",-1))),wa={class:"input-form"},va=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Count start from 0")],-1))),ha={key:3,class:"line-form"},ga=ea((()=>(0,n._)("div",{class:"name-line"},"Offset:",-1))),fa={class:"input-form"},ya=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Min number 1")],-1))),Va={key:4,class:"line-form"},ka=ea((()=>(0,n._)("div",{class:"name-line"},"Slave id:",-1))),Ca={class:"input-form"},Pa=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Min number 1")],-1))),Sa={key:5,class:"line-form"},Wa=ea((()=>(0,n._)("div",{class:"name-line"},"Function:",-1))),Aa={class:"input-form"},Da=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"#TODO ...")],-1))),La={key:6,class:"line-form"},Fa=ea((()=>(0,n._)("div",{class:"name-line"},"Size:",-1))),Oa={class:"input-form"},Ta=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"#TODO ...")],-1))),xa={key:7,class:"line-form"},qa=ea((()=>(0,n._)("div",{class:"name-line"},"Start register:",-1))),Ia={class:"input-form"},Ba=ea((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"#TODO ...")],-1))),Ma={class:"add-area-button"},Ua=ea((()=>(0,n._)("div",{class:"icon-button"},[(0,n._)("img",{src:ne})],-1))),Na={key:0,class:"name-button"},Ra={key:1,class:"name-button"};function za(e,a,i,o,s,l){const d=(0,n.up)("el-option"),c=(0,n.up)("el-select");return(0,n.wg)(),(0,n.iD)("div",aa,[(0,n._)("div",ia,[na,(0,n._)("div",ta,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.areaParam.name=e)},null,512),[[t.nr,s.areaParam.name]]),ra])]),"Snap7"==i.driver?((0,n.wg)(),(0,n.iD)("div",oa,[sa,(0,n._)("div",la,[(0,n.Wm)(c,{modelValue:s.areaParam.type_area,"onUpdate:modelValue":a[1]||(a[1]=e=>s.areaParam.type_area=e),class:"m-2",placeholder:"Select type",size:"small",namespace:"hrad-1","popper-class":"hrad-2",change:e.$emit("onBigType","DB"==s.areaParam.type_area)},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.drivers,(e=>((0,n.wg)(),(0,n.j4)(d,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","change"]),da])])):(0,n.kq)("",!0),"Snap7"==i.driver?((0,n.wg)(),(0,n.iD)("div",{key:1,class:(0,r.C_)(["block-hided",{"block-hide":!("DB"==s.areaParam.type_area),"block-open":"DB"==s.areaParam.type_area}])},["DB"==s.areaParam.type_area?((0,n.wg)(),(0,n.iD)("div",ca,[ua,(0,n._)("div",ma,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>s.areaParam.number_db=e)},null,512),[[t.nr,s.areaParam.number_db]]),pa])])):(0,n.kq)("",!0)],2)):(0,n.kq)("",!0),"Snap7"==i.driver?((0,n.wg)(),(0,n.iD)("div",ba,[_a,(0,n._)("div",wa,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>s.areaParam.start_byte=e)},null,512),[[t.nr,s.areaParam.start_byte]]),va])])):(0,n.kq)("",!0),"Snap7"==i.driver?((0,n.wg)(),(0,n.iD)("div",ha,[ga,(0,n._)("div",fa,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>s.areaParam.offset=e)},null,512),[[t.nr,s.areaParam.offset]]),ya])])):(0,n.kq)("",!0),"ModbusTCP"==i.driver?((0,n.wg)(),(0,n.iD)("div",Va,[ka,(0,n._)("div",Ca,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>s.areaParam.slave_id=e)},null,512),[[t.nr,s.areaParam.slave_id]]),Pa])])):(0,n.kq)("",!0),"ModbusTCP"==i.driver?((0,n.wg)(),(0,n.iD)("div",Sa,[Wa,(0,n._)("div",Aa,[(0,n.Wm)(c,{modelValue:s.areaParam.function,"onUpdate:modelValue":a[6]||(a[6]=e=>s.areaParam.function=e),class:"m-2",placeholder:"Select function",size:"small",namespace:"hrad-1","popper-class":"hrad-2"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.function_kind,(e=>((0,n.wg)(),(0,n.j4)(d,{style:{"font-family":"'newfont'"},key:e.key,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),Da])])):(0,n.kq)("",!0),"ModbusTCP"==i.driver?((0,n.wg)(),(0,n.iD)("div",La,[Fa,(0,n._)("div",Oa,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[7]||(a[7]=e=>s.areaParam.size=e)},null,512),[[t.nr,s.areaParam.size]]),Ta])])):(0,n.kq)("",!0),"ModbusTCP"==i.driver?((0,n.wg)(),(0,n.iD)("div",xa,[qa,(0,n._)("div",Ia,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[8]||(a[8]=e=>s.areaParam.start_register=e)},null,512),[[t.nr,s.areaParam.start_register]]),Ba])])):(0,n.kq)("",!0),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[s.areaParam.type_area||s.areaParam.function?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"line-form try",onClick:a[9]||(a[9]=(...e)=>l.saveMethod&&l.saveMethod(...e))},[(0,n._)("div",Ma,[Ua,i.mode_change?((0,n.wg)(),(0,n.iD)("p",Na,"Change")):(0,n.kq)("",!0),i.mode_change?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("p",Ra,"Save"))])])):(0,n.kq)("",!0)])),_:1})])}var ja={props:["mode_change","index_area","connection_id","driver"],components:{},emits:["closeEnd","onBigType"],data(){return{areaParam:{name:"",number_db:null,start_byte:null,offset:null,connection:""},drivers:[{key:1,label:"DB",value:"DB"},{key:2,label:"PA",value:"PA"}],function_kind:[{key:1,label:"3",value:3},{key:2,label:"4",value:4}]}},methods:{async saveMethod(){this.mode_change?(this.areaParam.connection="http://127.0.0.1:8000/connection/"+this.connection_id+"/",this.changeArea({id_area:this.areaList[this.index_area].id,data:this.areaParam}),this.areaParam.connection="",this.$emit("closeEnd")):(this.areaParam.connection="http://127.0.0.1:8000/connection/"+this.connection_id+"/",await this.addNewArea(this.areaParam),this.areaParam.connection="",this.$emit("closeEnd"))},...(0,f.nv)({deleteArea:"deleteArea",addNewArea:"addNewArea",changeArea:"changeArea"}),checkParam(){let e=!1;return"string"==typeof this.areaParam.name&&1==this.areaParam.name.split(" ").length&&("DB"==this.areaParam.type_area&&this.areaParam.number_db?this.areaParam.start_byte&&this.areaParam.offset&&(e=!0):"PA"==this.areaParam.type_area&&this.areaParam.start_byte&&this.areaParam.offset&&(e=!0)),e}},computed:{...(0,f.Se)({areaList:"getAreaList"})},mounted(){this.mode_change&&(this.areaParam.name=this.areaList[this.index_area].name,this.areaParam.type_area=this.areaList[this.index_area].type_area,this.areaParam.number_db=this.areaList[this.index_area].number_db,this.areaParam.start_byte=this.areaList[this.index_area].start_byte,this.areaParam.offset=this.areaList[this.index_area].offset,this.areaParam.slave_id=this.areaList[this.index_area].slave_id,this.areaParam.function=this.areaList[this.index_area].function,this.areaParam.size=this.areaList[this.index_area].size,this.areaParam.start_register=this.areaList[this.index_area].start_register)}};const Za=(0,D.Z)(ja,[["render",za],["__scopeId","data-v-019dabbf"]]);var Ha=Za,Ea={props:["indexConnection","connection_id","driver"],components:{FormArea:Ha},data(){return{showForm:!1,bigForm:!1}},computed:{...(0,f.Se)({})}};const Ya=(0,D.Z)(Ea,[["render",Xe],["__scopeId","data-v-4f84152f"]]);var Ka=Ya,$a=i.p+"img/dustbin.b74ed8e6.svg",Ga=i.p+"img/pencil.58562d72.svg";const Qa=e=>((0,n.dD)("data-v-5a83bde5"),e=e(),(0,n.Cn)(),e),Ja={class:"area-line"},Xa={class:"header-area"},ei={class:"button-place"},ai=Qa((()=>(0,n._)("img",{class:"dustbin",src:$a,alt:"Alt"},null,-1))),ii=[ai],ni=Qa((()=>(0,n._)("img",{class:"pencil",src:Ga,alt:"Alt"},null,-1))),ti=[ni],ri=Qa((()=>(0,n._)("p",{class:"icon-button"},"+",-1))),oi=Qa((()=>(0,n._)("p",{class:"name-button"},"Add new variable",-1))),si=[ri,oi],li=Qa((()=>(0,n._)("div",{class:"vl-area"},null,-1)));function di(e,a,i,o,s,l){const d=(0,n.up)("FormArea"),c=(0,n.up)("VariableList");return(0,n.wg)(),(0,n.iD)("div",Ja,[(0,n._)("div",Xa,[(0,n._)("p",null,(0,r.zw)(i.area_param.name),1),(0,n._)("div",ei,[(0,n._)("div",{class:"icon",onClick:a[0]||(a[0]=(...e)=>l.deleteAndReloadArea&&l.deleteAndReloadArea(...e))},ii),(0,n._)("div",{class:"icon",onClick:a[1]||(a[1]=e=>s.showForm=!s.showForm)},ti),(0,n._)("div",{class:"add-veriable-button",onClick:a[2]||(a[2]=(...e)=>l.openWindowCreateVariable&&l.openWindowCreateVariable(...e))},si)])]),(0,n._)("div",{class:(0,r.C_)(["form-block",{"form-hide":!s.showForm,"form-open":s.showForm&&!s.bigForm,"form-open-big":s.showForm&&s.bigForm}])},[(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[s.showForm?((0,n.wg)(),(0,n.j4)(d,{key:0,mode_change:!0,index_area:i.area_index,connection_id:e.ConnectionList[i.indexConnection].id,driver:e.ConnectionList[i.indexConnection].driver,onCloseEnd:a[3]||(a[3]=e=>s.showForm=!s.showForm),onOnBigType:a[4]||(a[4]=e=>s.bigForm=e)},null,8,["index_area","connection_id","driver"])):(0,n.kq)("",!0)])),_:1})],2),li,(0,n.Wm)(c,{variableList:i.area_param.value,area_id:i.area_param.id,driver:this.ConnectionList[this.indexConnection].driver},null,8,["variableList","area_id","driver"])])}const ci={class:"variable-list-place"},ui=["onClick"];function mi(e,a,i,o,s,l){return(0,n.wg)(),(0,n.iD)("div",ci,[(0,n.Wm)(t.W3,{name:"list"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.variableList,(a=>((0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)(["variable-element",{active:a.id==e.Variable.vareable.id,diactive:a.id!=e.Variable.vareable.id}]),onClick:e=>l.pickVariable(a),key:a.id},[(0,n._)("p",null,(0,r.zw)(a.name),1)],10,ui)))),128))])),_:1})])}var pi={data(){return{}},props:["variableList","area_id","driver"],computed:{...(0,f.Se)({Variable:"getWindowVariableParam"})},methods:{...(0,f.OI)({setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus",setStatusWindowVariableParam:"setStatusWindowVariableParam"}),pickVariable(e){this.Variable.vareable.id==e.id?(this.setStatusWindowVariableParamStatus(!1),this.setStatusWindowVariableParam({var:{},area_id:null,driver:null})):(this.setStatusWindowVariableParamStatus(!0),this.setStatusWindowVariableParam({var:e,area_id:this.area_id,driver:this.driver}))}}};const bi=(0,D.Z)(pi,[["render",mi],["__scopeId","data-v-027eef8b"]]);var _i=bi,wi={data(){return{showForm:!1,bigForm:!1}},components:{FormArea:Ha,VariableList:_i},props:["area_param","area_index","indexConnection"],computed:{...(0,f.Se)({ConnectionList:"getConnectionList"})},methods:{...(0,f.nv)({deleteArea:"deleteArea"}),...(0,f.OI)({setWindowVariable:"setWindowVariableAdd",setWindowVariableName:"setWindowVariableAddName",setWindowVariableArea:"setWindowVariableAddArea",setDriverForWindowVariableAdd:"setDriverForWindowVariableAdd"}),openWindowCreateVariable(){this.setWindowVariable(!0),this.setWindowVariableName("Add new variable for "+this.area_param.name+" of areas"),this.setWindowVariableArea(this.area_param),this.setDriverForWindowVariableAdd(this.ConnectionList[this.indexConnection].driver)},async deleteAndReloadArea(){await this.deleteArea(this.area_param.id)}}};const vi=(0,D.Z)(wi,[["render",di],["__scopeId","data-v-5a83bde5"]]);var hi=vi,gi={data(){return{showForm:!1}},components:{LoaderIcon:O,ButtonNewArea:Ka,AreaLine:hi},computed:{...(0,f.Se)({ConnectionList:"getConnectionList",check:"getCheckConnectionBar",areaList:"getAreaList",loaderAreaList:"getLoadAreaWindow"})},methods:{...(0,f.OI)({setWindowAreas:"setWindowAreas",setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus",setStatusWindowVariableParam:"setStatusWindowVariableParam"}),...(0,f.nv)({deleteArea:"deleteArea"}),closeWindow(){this.setStatusWindowVariableParamStatus(!1),this.setStatusWindowVariableParam({var:{},area_id:null,driver:null}),this.setWindowAreas(!1)}}};const fi=(0,D.Z)(gi,[["render",He],["__scopeId","data-v-30d06f8a"]]);var yi=fi;const Vi={class:"windowVariable"},ki={class:"header-form"};function Ci(e,a,i,t,o,s){const l=(0,n.up)("FormVariable");return(0,n.wg)(),(0,n.iD)("div",Vi,[(0,n._)("div",ki,[(0,n._)("h2",null,(0,r.zw)(e.WindowVariable.headName),1),(0,n._)("div",{class:"button-close",onClick:a[0]||(a[0]=a=>e.setWindowVariable(!1))},"×")]),(0,n.Wm)(l,{area_id:e.WindowVariable.area.id,driver:e.WindowVariable.driver},null,8,["area_id","driver"])])}const Pi=e=>((0,n.dD)("data-v-7500810c"),e=e(),(0,n.Cn)(),e),Si={class:"line-form"},Wi=Pi((()=>(0,n._)("div",{class:"name-line"},"Name variable:",-1))),Ai={class:"input-form"},Di=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Name variable can be max 50 sign and min 5 sign #TODO")],-1))),Li={class:"line-form"},Fi=Pi((()=>(0,n._)("div",{class:"name-line"},"Start byte of area:",-1))),Oi={class:"input-form"},Ti=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Number 0 - ... , which connect with variable of area #TODO")],-1))),xi={class:"line-form"},qi=Pi((()=>(0,n._)("div",{class:"name-line"},"Minimal time:",-1))),Ii={class:"input-form"},Bi=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Minimal time between write data, ms")],-1))),Mi={class:"line-form"},Ui=Pi((()=>(0,n._)("div",{class:"name-line"},"Type taken data:",-1))),Ni={class:"input-form"},Ri=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Type data which takes from equipment")],-1))),zi={key:0,class:"line-form"},ji=Pi((()=>(0,n._)("div",{class:"name-line"},"Bit number:",-1))),Zi={class:"input-form"},Hi=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Number bit of byte")],-1))),Ei={class:"line-form"},Yi=Pi((()=>(0,n._)("div",{class:"name-line"},"Type data for write:",-1))),Ki={class:"input-form"},$i=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Type data which write to DB")],-1))),Gi={key:1,class:"line-form"},Qi={class:"name-line-with-form"},Ji={class:"left-part-line"},Xi=Pi((()=>(0,n._)("div",{class:"name bigname"},"Signed:",-1))),en=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"#TODO")],-1))),an={key:2,class:"line-form"},nn={class:"name-line-with-form"},tn={class:"left-part-line"},rn=Pi((()=>(0,n._)("div",{class:"name bigname"},"Big endian:",-1))),on=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"#TODO")],-1))),sn={key:3,class:"line-form"},ln={class:"name-line-with-form"},dn={class:"left-part-line"},cn=Pi((()=>(0,n._)("div",{class:"name bigname"},"Byte swap:",-1))),un=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"#TODO")],-1))),mn={class:"line-form"},pn={class:"name-line-with-form"},bn={class:"left-part-line"},_n=Pi((()=>(0,n._)("div",{class:"name"},"Divide:",-1))),wn=["disabled"],vn=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Data from equipment divide and write to DB")],-1))),hn={class:"line-form"},gn={class:"name-line-with-form"},fn={class:"left-part-line"},yn=Pi((()=>(0,n._)("div",{class:"name bigname"},"If change:",-1))),Vn=Pi((()=>(0,n._)("div",{class:"discription-line"},[(0,n._)("li",null,"Write data if data change")],-1))),kn={class:"last-line"},Cn=Pi((()=>(0,n._)("div",{class:"icon-button"},[(0,n._)("img",{src:ne})],-1))),Pn={key:0,class:"name-button"},Sn={key:1,class:"name-button"};function Wn(e,a,i,r,o,s){const l=(0,n.up)("SelectElement");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Si,[Wi,(0,n._)("div",Ai,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>o.paramVariable.name=e)},null,512),[[t.nr,o.paramVariable.name]]),Di])]),(0,n._)("div",Li,[Fi,(0,n._)("div",Oi,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=e=>o.paramVariable.start=e)},null,512),[[t.nr,o.paramVariable.start]]),Ti])]),(0,n._)("div",xi,[qi,(0,n._)("div",Ii,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>o.paramVariable.time_min=e)},null,512),[[t.nr,o.paramVariable.time_min]]),Bi])]),(0,n._)("div",Mi,[Ui,(0,n._)("div",Ni,[(0,n.Wm)(l,{modelValue:o.paramVariable.type_value,"onUpdate:modelValue":a[3]||(a[3]=e=>o.paramVariable.type_value=e),listOption:o.kindOfType,colorbac:"rgba(241, 243, 255, 0.4)"},null,8,["modelValue","listOption"]),Ri])]),o.paramVariable.type_value==o.kindOfType[3]?((0,n.wg)(),(0,n.iD)("div",zi,[ji,(0,n._)("div",Zi,[(0,n.wy)((0,n._)("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>o.paramVariable.bit=e)},null,512),[[t.nr,o.paramVariable.bit]]),Hi])])):(0,n.kq)("",!0),(0,n._)("div",Ei,[Yi,(0,n._)("div",Ki,[(0,n.Wm)(l,{modelValue:o.paramVariable.type_value_for_write,"onUpdate:modelValue":a[5]||(a[5]=e=>o.paramVariable.type_value_for_write=e),listOption:o.kindOfType,colorbac:"rgba(241, 243, 255, 0.4)"},null,8,["modelValue","listOption"]),$i])]),"ModbusTCP"==i.driver?((0,n.wg)(),(0,n.iD)("div",Gi,[(0,n._)("div",Qi,[(0,n._)("div",Ji,[Xi,(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=e=>o.paramVariable.signed=e)},null,512),[[t.e8,o.paramVariable.signed]])]),en])])):(0,n.kq)("",!0),"ModbusTCP"==i.driver?((0,n.wg)(),(0,n.iD)("div",an,[(0,n._)("div",nn,[(0,n._)("div",tn,[rn,(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=e=>o.paramVariable.big_endian=e)},null,512),[[t.e8,o.paramVariable.big_endian]])]),on])])):(0,n.kq)("",!0),"ModbusTCP"==i.driver?((0,n.wg)(),(0,n.iD)("div",sn,[(0,n._)("div",ln,[(0,n._)("div",dn,[cn,(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=e=>o.paramVariable.byte_swap=e)},null,512),[[t.e8,o.paramVariable.byte_swap]])]),un])])):(0,n.kq)("",!0),(0,n._)("div",mn,[(0,n._)("div",pn,[(0,n._)("div",bn,[_n,(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=e=>o.paramVariable.divide=e)},null,512),[[t.e8,o.paramVariable.divide]]),(0,n.wy)((0,n._)("input",{type:"number",disabled:!o.paramVariable.divide,"onUpdate:modelValue":a[10]||(a[10]=e=>o.paramVariable.divide_namber=e)},null,8,wn),[[t.nr,o.paramVariable.divide_namber]])]),vn])]),(0,n._)("div",hn,[(0,n._)("div",gn,[(0,n._)("div",fn,[yn,(0,n.wy)((0,n._)("input",{type:"checkbox",class:"big-checkbox","onUpdate:modelValue":a[11]||(a[11]=e=>o.paramVariable.if_change=e)},null,512),[[t.e8,o.paramVariable.if_change]])]),Vn])]),(0,n._)("div",kn,[(0,n._)("button",{class:"button-submit",onClick:a[12]||(a[12]=(...e)=>s.saveVariable&&s.saveVariable(...e))},[Cn,i.changeMode?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("p",Pn,"Save")),i.changeMode?((0,n.wg)(),(0,n.iD)("p",Sn,"Change")):(0,n.kq)("",!0)])])],64)}var An=i.p+"img/strelka-down.2e91a1ae.svg";const Dn={key:0,class:"choosing-show-place"},Ln={key:1,class:"choosing-show-place"},Fn={class:"icon-diraction"},On={key:0,class:"options-place",style:{transition:"opacity .4s"}},Tn=["onClick"];function xn(e,a,i,o,s,l){return(0,n.wg)(),(0,n.iD)("div",{class:"select-place",style:(0,r.j5)({background:i.colorbac}),onClick:a[0]||(a[0]=e=>s.showOption=!s.showOption)},[i.modelValue?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Dn,"Select type")),i.modelValue?((0,n.wg)(),(0,n.iD)("div",Ln,(0,r.zw)(i.modelValue.label),1)):(0,n.kq)("",!0),(0,n._)("div",Fn,[(0,n._)("img",{src:An,class:(0,r.C_)({up:s.showOption}),draggable:"false",alt:""},null,2)]),(0,n.Wm)(t.uT,{name:"fade"},{default:(0,n.w5)((()=>[s.showOption?((0,n.wg)(),(0,n.iD)("div",On,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.listOption,(e=>((0,n.wg)(),(0,n.iD)("li",{onClick:a=>l.getOption(e),key:e.key},(0,r.zw)(e.label),9,Tn)))),128))])):(0,n.kq)("",!0)])),_:1})],4)}var qn={props:["listOption","modelValue","colorbac"],emits:["update:modelValue"],data(){return{showOption:!1}},methods:{getOption(e){this.$emit("update:modelValue",e)}}};const In=(0,D.Z)(qn,[["render",xn],["__scopeId","data-v-04575bb6"]]);var Bn=In,Mn={components:{SelectElement:Bn},props:["area_id","changeMode","variableParam","driver"],emits:["closeForm"],data(){return{paramVariable:{},kindOfType:[{key:1,label:"int",value:"int"},{key:2,label:"float",value:"float"},{key:3,label:"double",value:"double"},{key:4,label:"bool",value:"bool"}]}},methods:{...(0,f.nv)({addNewVareable:"addNewVareable",changeVareable:"changeVareable"}),saveVariable(){let e={name:this.paramVariable.name,start:this.paramVariable.start,type_value_get_data:this.paramVariable.type_value.value,type_value_write_data:this.paramVariable.type_value_for_write.value,if_change:this.paramVariable.if_change,divide:this.paramVariable.divide,divide_number:this.paramVariable.divide_namber,time_write_if_change:this.paramVariable.time_min,bit:this.paramVariable.bit,byte_swap:this.paramVariable.byte_swap,big_endian:this.paramVariable.big_endian,signed:this.paramVariable.signed,area:"http://127.0.0.1:8000/area/"+this.area_id+"/"};this.changeMode?(this.changeVareable({id:this.variableParam.id,data:e}),this.$emit("closeForm")):this.addNewVareable(e)}},mounted(){this.changeMode&&(this.paramVariable.name=this.variableParam.name,this.paramVariable.start=this.variableParam.start,this.kindOfType.find((e=>{e.value==this.variableParam.type_value_get_data&&(this.paramVariable.type_value=e)})),this.kindOfType.find((e=>{e.value==this.variableParam.type_value_write_data&&(this.paramVariable.type_value_for_write=e)})),this.paramVariable.if_change=this.variableParam.if_change,this.paramVariable.divide=this.variableParam.divide,this.paramVariable.divide_namber=this.variableParam.divide_number,this.paramVariable.time_min=this.variableParam.time_write_if_change,this.paramVariable.bit=this.variableParam.bit,this.paramVariable.byte_swap=this.variableParam.byte_swap,this.paramVariable.big_endian=this.variableParam.big_endian,this.paramVariable.signed=this.variableParam.signed)}};const Un=(0,D.Z)(Mn,[["render",Wn],["__scopeId","data-v-7500810c"]]);var Nn=Un,Rn={components:{FormVariable:Nn},computed:{...(0,f.Se)({WindowVariable:"getParamWindowVariableAdd"})},methods:{...(0,f.OI)({setWindowVariable:"setWindowVariableAdd"})}};const zn=(0,D.Z)(Rn,[["render",Ci],["__scopeId","data-v-2ef76a20"]]);var jn=zn;const Zn=e=>((0,n.dD)("data-v-39d6b844"),e=e(),(0,n.Cn)(),e),Hn={class:"windowVariable"},En={class:"header-form"},Yn={class:"button-place"},Kn=Zn((()=>(0,n._)("img",{src:$a,alt:""},null,-1))),$n=[Kn],Gn=Zn((()=>(0,n._)("img",{src:Ga,alt:""},null,-1))),Qn=[Gn],Jn=Zn((()=>(0,n._)("div",{class:"vl-variable"},null,-1)));function Xn(e,a,i,t,o,s){const l=(0,n.up)("FormVariable"),d=(0,n.up)("highcharts");return(0,n.wg)(),(0,n.iD)("div",Hn,[(0,n._)("div",En,[(0,n._)("div",Yn,[(0,n._)("button",{onClick:a[0]||(a[0]=a=>e.deleteVareable({id:e.Variable.vareable.id,area_id:e.Variable.area_id}))},$n),(0,n._)("button",{onClick:a[1]||(a[1]=e=>o.formShow=!o.formShow)},Qn)]),(0,n._)("h2",null,(0,r.zw)(e.Variable.vareable.name),1),(0,n._)("div",{class:"button-close",onClick:a[2]||(a[2]=a=>e.setStatusWindowVariableParamStatus(!1))},"×")]),o.formShow?((0,n.wg)(),(0,n.j4)(l,{key:0,area_id:e.Variable.area_id,variableParam:e.Variable.vareable,changeMode:!0,driver:e.Variable.driver,onCloseForm:a[3]||(a[3]=e=>o.formShow=!1)},null,8,["area_id","variableParam","driver"])):(0,n.kq)("",!0),Jn,(0,n.Wm)(d,{options:o.chartOptions},null,8,["options"])])}i(7658);var et=i(880),at=i.n(et),it={data(){return{formShow:!1,lastPointTime:null,flagStopTimeOut:!0,chartOptions:{credits:{enabled:!1},chart:{backgroundColor:null},title:{text:"asdasdas",style:{color:"#F1F3FF",fontSize:"1.125em"}},yAxis:{name:"",lineColor:"#F1F3FF",lineWidth:1,tickColor:"#F1F3FF",tickLength:5,tickWidth:1,labels:{style:{color:"#F1F3FF"}},gridLineWidth:0,title:{text:""}},xAxis:{name:"time",type:"datetime",lineColor:"#F1F3FF",lineWidth:1,tickColor:"#F1F3FF",tickLength:5,tickWidth:1,labels:{style:{color:"#F1F3FF"}},gridLineWidth:0,title:{text:"time",style:{color:"#F1F3FF",fontSize:"0.8em"}}},time:{timezone:"Europe/Minsk",timezoneOffset:-180},legend:{enabled:!1},series:[{data:[]}]}}},components:{FormVariable:Nn,highcharts:et.Chart},computed:{...(0,f.Se)({Variable:"getWindowVariableParam"})},methods:{...(0,f.OI)({setStatusWindowVariableParamStatus:"setStatusWindowVariableParamStatus"}),...(0,f.nv)({deleteVareable:"deleteVareable"}),getData(){X.post("connection/get_point/",{id_variable:this.Variable.vareable.id}).then((e=>{e.data.forEach((e=>{this.chartOptions.series[0].data.push(e)})),this.lastPointTime=e.data[e.data.length-1][0]}))},startTimerPoint(){null!=this.lastPointTime&&X.post("connection/get_point/",{id_variable:this.Variable.vareable.id,last_time:this.lastPointTime/1e3}).then((e=>{e.data.forEach((e=>{this.chartOptions.series[0].data.splice(0,1),this.chartOptions.series[0].data.push(e)})),0!=e.data.length&&(this.lastPointTime=e.data[e.data.length-1][0])})),this.flagStopTimeOut||setTimeout(this.startTimerPoint,4e3)}},mounted(){this.getData(),this.flagStopTimeOut=!1,setTimeout(this.startTimerPoint,1e3)},unmounted(){this.flagStopTimeOut=!0}};const nt=(0,D.Z)(it,[["render",Xn],["__scopeId","data-v-39d6b844"]]);var tt=nt,rt={name:"App",components:{LoginWindow:q,ConnectionBar:ie,WindowCreateConnection:Me,WindowAreas:yi,WindowAddVariable:jn,WindowVariable:tt},data(){return{}},computed:{...(0,f.Se)({LoginStatus:"getLoginStatus",Myclass:"getBackgroundMainWindow",windowCreateCon:"getStatusWindowCreateConnectiob",windowAreas:"getStatusWindowAreas",windowVareableAdd:"getStatusWindowVariableAdd",windowVareableStatus:"getStatusWindowVariableParam"})},methods:{...(0,f.nv)({getUserInfo:"checkUserInfo"}),test(){console.log(1),this.Myclass=!this.Myclass,console.log(this.Myclass)}},created(){this.getUserInfo();let e=localStorage.getItem("token");console.log(e)}};const ot=(0,D.Z)(rt,[["render",s]]);var st=ot,lt=i(6423),dt=i(7178),ct=(0,f.MT)({state:{loginStatus:!0,processRequest:!1,backgroundStraight:!1,connectionBar:{ConnectionList:[],check:null},areaList:[],windows:{CreateConnection:{status:!1,loadRequest:!1},Areas:{status:!1,loadRequest:!1},VareableAdd:{status:!1,headName:"",area:null},VareableParam:{status:!1,vareable:{},area_id:null}}},getters:{getLoginStatus(e){return e.loginStatus},getProcessRequest(e){return e.processRequest},getloadConnection(e){return e.windows.CreateConnection.loadRequest},getLoadAreaWindow(e){return e.windows.Areas.loadRequest},getBackgroundMainWindow(e){return e.backgroundStraight},getStatusWindowCreateConnectiob(e){return e.windows.CreateConnection.status},getStatusWindowAreas(e){return e.windows.Areas.status},getStatusWindowVariableAdd(e){return e.windows.VareableAdd.status},getStatusWindowVariableParam(e){return e.windows.VareableParam.status},getWindowVariableParam(e){return e.windows.VareableParam},getParamWindowVariableAdd(e){return e.windows.VareableAdd},getConnectionList(e){return e.connectionBar.ConnectionList},getCheckConnectionBar(e){return e.connectionBar.check},getAreaList(e){return e.areaList}},mutations:{setLoginStatus(e,a){e.loginStatus=a},setStatusProcessRequest(e,a){e.processRequest=a},setWindowVariableAdd(e,a){1==a&&(e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={}),e.windows.VareableAdd.status=a},setDriverForWindowVariableAdd(e,a){e.windows.VareableAdd.driver=a},setStatusWindowVariableParamStatus(e,a){1==a&&(e.windows.VareableAdd.status=!1),e.windows.VareableParam.status=a,e.windows.VareableParam.vareable={}},setStatusWindowVariableParam(e,a){e.windows.VareableParam.vareable=a.var,e.windows.VareableParam.area_id=a.area_id,e.windows.VareableParam.driver=a.driver},setWindowVariableAddName(e,a){e.windows.VareableAdd.headName=a},setWindowVariableAddArea(e,a){e.windows.VareableAdd.area=a},setWindowCreateConnection(e,a){e.windows.CreateConnection.status=a,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.connectionBar.check=null,e.backgroundStraight=!1},setCheckConnectionBar(e,a){e.connectionBar.check==a?(e.connectionBar.check=null,e.backgroundStraight=!1,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1,e.windows.VareableParam.vareable={}):(e.connectionBar.check=a,e.backgroundStraight=!0,e.windows.Areas.status=!0,e.windows.CreateConnection.status=!1)},setConnectionList(e,a){e.connectionBar.ConnectionList=a},addNewConnection(e,a){e.connectionBar.ConnectionList.push(a)},setMainBackground(e,a){e.backgroundStraight=a},setloadConnection(e,a){e.windows.CreateConnection.loadRequest=a},setLoaderAreaWindow(e,a){e.windows.Areas.loadRequest=a},setWindowAreas(e,a){0==a?(e.connectionBar.check=null,e.backgroundStraight=!1,e.windows.Areas.status=!1,e.windows.VareableAdd.status=!1,e.windows.VareableParam.status=!1):(e.windows.Areas.status=a,e.windows.CreateConnection.status=!1)},setNewAreaList(e,a){e.areaList=a},setNewArea(e,a){e.areaList.push(a)},setRemoveArea(e,a){e.areaList.find(((i,n)=>{i.id==a&&e.areaList.splice(n,1)}))},changeAreaInConnection(e,a){let i=null;e.areaList.find(((e,n)=>{e.id==a.id&&(i=n)})),null!=i&&(e.areaList[i]=a)},setNewVariable(e,a){e.areaList.find((e=>{e.id==a.area_id&&e.value.push(a)}))},setChangedVariable(e,a){let i=null,n=null;e.areaList.find(((e,t)=>{e.id==a.area_id&&(i=t,e.value.find(((e,i)=>{e.id==a.id&&(n=i)})))})),null!=i&&null!=n&&(e.areaList[i].value[n]=a,e.windows.VareableParam.vareable=a)},setRemoveVariable(e,a){let i=null,n=null;e.areaList.find(((e,t)=>{e.id==a.area_id&&(i=t,e.value.find(((e,i)=>{e.id==a.id&&(n=i)})))})),null!=i&&null!=n&&e.areaList[i].value.splice(n,1)},setStatusConnections(e,a){let i=Object.keys(a);i.forEach((i=>{e.connectionBar.ConnectionList.find((e=>{e.id==Number(i)&&(e.status_connection=a[i].status_connection,e.switcher=a[i].switcher,e.status_process=a[i].status_process)}))}))}},actions:{async postLogin(e,a){e.commit("setStatusProcessRequest",!0),X.defaults.headers.common={},await X.post("user/login/",a).then((a=>{e.commit("setLoginStatus",!0),localStorage.setItem("token",a.data.token),X.defaults.headers.common={Authorization:`Token ${a.data.token}`}})).catch((a=>{console.log(a),(0,dt.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"Неверный логин или пароль"}),e.commit("setLoginStatus",!1)})),e.commit("setStatusProcessRequest",!1)},async checkUserInfo(e){await X.get("user/info/").then((()=>{e.commit("setLoginStatus",!0)})).catch((a=>{console.log(a),e.commit("setLoginStatus",!1)}))},async addConnection(e,a){e.commit("setloadConnection",!0),await X.post("connection/",a).then((a=>{e.commit("addNewConnection",a.data),e.commit("setWindowCreateConnection",!1)})).catch((e=>{console.log(e)})),e.commit("setloadConnection",!1)},async getAllConnections(e){await X.get("connection/").then((a=>{e.commit("setConnectionList",a.data)}))},async getAreaFromConnection(e,a){e.commit("setLoaderAreaWindow",!0),await X.get("connection/"+a+"/area").then((a=>{e.commit("setNewAreaList",a.data)})).catch((e=>{(0,dt.z8)({dangerouslyUseHTMLString:!0,type:"error",message:"Ошибка с запросом Area"}),console.log(e)})),e.commit("setLoaderAreaWindow",!1)},async addNewArea(e,a){await X.post("area/",a).then((a=>{e.commit("setNewArea",a.data)})).catch((e=>{console.log(e)}))},async changeArea(e,a){await X.put("area/"+a.id_area+"/",a.data).then((a=>{e.commit("changeAreaInConnection",a.data)}))},async deleteArea(e,a){await X["delete"]("area/"+a).then((()=>{e.commit("setRemoveArea",a)})).catch((e=>{console.log(e)}))},async addNewVareable(e,a){await X.post("value/",a).then((a=>{e.commit("setNewVariable",a.data),e.commit("setWindowVariableAdd",!1)}))},async changeVareable(e,a){await X.put("value/"+a.id+"/",a.data).then((a=>{e.commit("setChangedVariable",a.data)}))},async deleteVareable(e,a){await X["delete"]("value/"+a.id).then((()=>{e.commit("setStatusWindowVariableParamStatus",!1),e.commit("setRemoveVariable",a)}))},async getStatusConnections(e){await X.get("connection/status/").then((a=>{e.commit("setStatusConnections",a.data)}))}}}),ut=i(7879);i(4415);const mt=t.ri(st);mt.use(ut.Z),mt.use(lt.Z,X),mt.use(ct),mt.use(at()),mt.mount("#app")}},a={};function i(n){var t=a[n];if(void 0!==t)return t.exports;var r=a[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(a,n,t,r){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],t=e[c][1],r=e[c][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||o>=r)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(c--,1);var d=t();void 0!==d&&(a=d)}}return a}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,t,r]}}(),function(){i.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(a,{a:a}),a}}(),function(){i.d=function(e,a){for(var n in a)i.o(a,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var e={143:0};i.O.j=function(a){return 0===e[a]};var a=function(a,n){var t,r,o=n[0],s=n[1],l=n[2],d=0;if(o.some((function(a){return 0!==e[a]}))){for(t in s)i.o(s,t)&&(i.m[t]=s[t]);if(l)var c=l(i)}for(a&&a(n);d<o.length;d++)r=o[d],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},n=self["webpackChunkSH"]=self["webpackChunkSH"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(3535)}));n=i.O(n)})();
//# sourceMappingURL=app.48f158ac.js.map